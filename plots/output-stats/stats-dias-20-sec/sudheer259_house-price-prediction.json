{
  "max-mem-in-mb": 2858,
  "max-mem-in-mb2": 2971,
  "cells": [
    {
      "raw": "import numpy as np\n# import pandas as pd\nimport os\nexec(os.environ['IREWR_IMPORTS'])\n# FIRST-AUTHOR: remove plotting\n# from matplotlib import pyplot as plt\n# import seaborn as sns\n# %matplotlib inline",
      "rewrite-ns": 563531,
      "overhead-ns": 563531,
      "exec-ns": 307478,
      "total-ns": 871009,
      "patts-hit": {},
      "rewritten": "import numpy as np\nimport os\nexec(os.environ['IREWR_IMPORTS'])\n"
    },
    {
      "raw": "#Loading the Data\ntrain = pd.read_csv('./input/train.scaled.csv')",
      "rewrite-ns": 375846,
      "overhead-ns": 375846,
      "exec-ns": 2096855458,
      "total-ns": 2097231304,
      "patts-hit": {},
      "rewritten": "train = pd.read_csv('./input/train.scaled.csv')\n"
    },
    {
      "raw": "nulls = train.isnull().sum().sort_values(ascending=False)\nnulls.head(20)",
      "rewrite-ns": 743479,
      "overhead-ns": 743479,
      "exec-ns": 1527219224,
      "total-ns": 1527962703,
      "patts-hit": {},
      "rewritten": "nulls = train.isnull().sum().sort_values(ascending=False)\nnulls.head(20)\n"
    },
    {
      "raw": "train = train.drop(['Id','PoolQC','MiscFeature','Alley','Fence'],axis = 1)",
      "rewrite-ns": 755490,
      "overhead-ns": 755490,
      "exec-ns": 163160804,
      "total-ns": 163916294,
      "patts-hit": {},
      "rewritten": "train = train.drop(['Id', 'PoolQC', 'MiscFeature', 'Alley', 'Fence'], axis=1)\n"
    },
    {
      "raw": "train[['Fireplaces','FireplaceQu']].head(10)",
      "rewrite-ns": 570887,
      "overhead-ns": 570887,
      "exec-ns": 7624468,
      "total-ns": 8195355,
      "patts-hit": {},
      "rewritten": "train[['Fireplaces', 'FireplaceQu']].head(10)\n"
    },
    {
      "raw": "train['FireplaceQu'].isnull().sum()",
      "rewrite-ns": 503084,
      "overhead-ns": 503084,
      "exec-ns": 12261970,
      "total-ns": 12765054,
      "patts-hit": {},
      "rewritten": "train['FireplaceQu'].isnull().sum()\n"
    },
    {
      "raw": "train['Fireplaces'].value_counts()",
      "rewrite-ns": 382703,
      "overhead-ns": 382703,
      "exec-ns": 2539734,
      "total-ns": 2922437,
      "patts-hit": {},
      "rewritten": "train['Fireplaces'].value_counts()\n"
    },
    {
      "raw": "train['FireplaceQu']=train['FireplaceQu'].fillna('NF')",
      "rewrite-ns": 396010,
      "overhead-ns": 396010,
      "exec-ns": 14494317,
      "total-ns": 14890327,
      "patts-hit": {
        "IsInplaceUpdate": 1
      },
      "rewritten": "_DIAS_ser = train['FireplaceQu']\nif type(_DIAS_ser) != pd.Series:\n    train['FireplaceQu'] = train['FireplaceQu'].fillna('NF')\nelse:\n    train['FireplaceQu'].fillna('NF', inplace=True)\n"
    },
    {
      "raw": "train['LotFrontage'] =train['LotFrontage'].fillna(value=train['LotFrontage'].mean())",
      "rewrite-ns": 462197,
      "overhead-ns": 462197,
      "exec-ns": 3426942,
      "total-ns": 3889139,
      "patts-hit": {
        "IsInplaceUpdate": 1
      },
      "rewritten": "_DIAS_ser = train['LotFrontage']\nif type(_DIAS_ser) != pd.Series:\n    train['LotFrontage'] = train['LotFrontage'].fillna(value=train[\n        'LotFrontage'].mean())\nelse:\n    train['LotFrontage'].fillna(value=train['LotFrontage'].mean(), inplace=True\n        )\n"
    },
    {
      "raw": "train['GarageType'].isnull().sum()",
      "rewrite-ns": 463785,
      "overhead-ns": 463785,
      "exec-ns": 12404034,
      "total-ns": 12867819,
      "patts-hit": {},
      "rewritten": "train['GarageType'].isnull().sum()\n"
    },
    {
      "raw": "train['GarageCond'].isnull().sum()",
      "rewrite-ns": 459433,
      "overhead-ns": 459433,
      "exec-ns": 12238289,
      "total-ns": 12697722,
      "patts-hit": {},
      "rewritten": "train['GarageCond'].isnull().sum()\n"
    },
    {
      "raw": "train['GarageFinish'].isnull().sum()",
      "rewrite-ns": 447524,
      "overhead-ns": 447524,
      "exec-ns": 11989508,
      "total-ns": 12437032,
      "patts-hit": {},
      "rewritten": "train['GarageFinish'].isnull().sum()\n"
    },
    {
      "raw": "train['GarageYrBlt'].isnull().sum()",
      "rewrite-ns": 470762,
      "overhead-ns": 470762,
      "exec-ns": 1094266,
      "total-ns": 1565028,
      "patts-hit": {},
      "rewritten": "train['GarageYrBlt'].isnull().sum()\n"
    },
    {
      "raw": "train['GarageQual'].isnull().sum()",
      "rewrite-ns": 468367,
      "overhead-ns": 468367,
      "exec-ns": 12094312,
      "total-ns": 12562679,
      "patts-hit": {},
      "rewritten": "train['GarageQual'].isnull().sum()\n"
    },
    {
      "raw": "train['GarageArea'].value_counts().head()",
      "rewrite-ns": 448218,
      "overhead-ns": 448218,
      "exec-ns": 2959624,
      "total-ns": 3407842,
      "patts-hit": {},
      "rewritten": "train['GarageArea'].value_counts().head()\n"
    },
    {
      "raw": "train['GarageType']=train['GarageType'].fillna('NG')\ntrain['GarageCond']=train['GarageCond'].fillna('NG')\ntrain['GarageFinish']=train['GarageFinish'].fillna('NG')\ntrain['GarageYrBlt']=train['GarageYrBlt'].fillna('NG')\ntrain['GarageQual']=train['GarageQual'].fillna('NG')",
      "rewrite-ns": 2123357,
      "overhead-ns": 2123357,
      "exec-ns": 64409551,
      "total-ns": 66532908,
      "patts-hit": {
        "IsInplaceUpdate": 1
      },
      "rewritten": "_DIAS_ser = train['GarageType']\nif type(_DIAS_ser) != pd.Series:\n    train['GarageType'] = train['GarageType'].fillna('NG')\nelse:\n    train['GarageType'].fillna('NG', inplace=True)\n_DIAS_ser = train['GarageCond']\nif type(_DIAS_ser) != pd.Series:\n    train['GarageCond'] = train['GarageCond'].fillna('NG')\nelse:\n    train['GarageCond'].fillna('NG', inplace=True)\n_DIAS_ser = train['GarageFinish']\nif type(_DIAS_ser) != pd.Series:\n    train['GarageFinish'] = train['GarageFinish'].fillna('NG')\nelse:\n    train['GarageFinish'].fillna('NG', inplace=True)\n_DIAS_ser = train['GarageYrBlt']\nif type(_DIAS_ser) != pd.Series:\n    train['GarageYrBlt'] = train['GarageYrBlt'].fillna('NG')\nelse:\n    train['GarageYrBlt'].fillna('NG', inplace=True)\n_DIAS_ser = train['GarageQual']\nif type(_DIAS_ser) != pd.Series:\n    train['GarageQual'] = train['GarageQual'].fillna('NG')\nelse:\n    train['GarageQual'].fillna('NG', inplace=True)\n"
    },
    {
      "raw": "train.BsmtExposure.isnull().sum()",
      "rewrite-ns": 447731,
      "overhead-ns": 447731,
      "exec-ns": 12147455,
      "total-ns": 12595186,
      "patts-hit": {},
      "rewritten": "train.BsmtExposure.isnull().sum()\n"
    },
    {
      "raw": "train.BsmtFinType2.isnull().sum()",
      "rewrite-ns": 421786,
      "overhead-ns": 421786,
      "exec-ns": 12175523,
      "total-ns": 12597309,
      "patts-hit": {},
      "rewritten": "train.BsmtFinType2.isnull().sum()\n"
    },
    {
      "raw": "train.BsmtFinType1.isnull().sum()",
      "rewrite-ns": 415568,
      "overhead-ns": 415568,
      "exec-ns": 12103392,
      "total-ns": 12518960,
      "patts-hit": {},
      "rewritten": "train.BsmtFinType1.isnull().sum()\n"
    },
    {
      "raw": "train.BsmtCond.isnull().sum() ",
      "rewrite-ns": 415550,
      "overhead-ns": 415550,
      "exec-ns": 12091369,
      "total-ns": 12506919,
      "patts-hit": {},
      "rewritten": "train.BsmtCond.isnull().sum()\n"
    },
    {
      "raw": "train.BsmtQual.isnull().sum()",
      "rewrite-ns": 408717,
      "overhead-ns": 408717,
      "exec-ns": 11983963,
      "total-ns": 12392680,
      "patts-hit": {},
      "rewritten": "train.BsmtQual.isnull().sum()\n"
    },
    {
      "raw": "train.TotalBsmtSF.value_counts().head()",
      "rewrite-ns": 408478,
      "overhead-ns": 408478,
      "exec-ns": 3213528,
      "total-ns": 3622006,
      "patts-hit": {},
      "rewritten": "train.TotalBsmtSF.value_counts().head()\n"
    },
    {
      "raw": "train['BsmtExposure']=train['BsmtExposure'].fillna('NB')\ntrain['BsmtFinType2']=train['BsmtFinType2'].fillna('NB')\ntrain['BsmtFinType1']=train['BsmtFinType1'].fillna('NB')\ntrain['BsmtCond']=train['BsmtCond'].fillna('NB')\ntrain['BsmtQual']=train['BsmtQual'].fillna('NB')",
      "rewrite-ns": 1449340,
      "overhead-ns": 1449340,
      "exec-ns": 66959980,
      "total-ns": 68409320,
      "patts-hit": {
        "IsInplaceUpdate": 1
      },
      "rewritten": "_DIAS_ser = train['BsmtExposure']\nif type(_DIAS_ser) != pd.Series:\n    train['BsmtExposure'] = train['BsmtExposure'].fillna('NB')\nelse:\n    train['BsmtExposure'].fillna('NB', inplace=True)\n_DIAS_ser = train['BsmtFinType2']\nif type(_DIAS_ser) != pd.Series:\n    train['BsmtFinType2'] = train['BsmtFinType2'].fillna('NB')\nelse:\n    train['BsmtFinType2'].fillna('NB', inplace=True)\n_DIAS_ser = train['BsmtFinType1']\nif type(_DIAS_ser) != pd.Series:\n    train['BsmtFinType1'] = train['BsmtFinType1'].fillna('NB')\nelse:\n    train['BsmtFinType1'].fillna('NB', inplace=True)\n_DIAS_ser = train['BsmtCond']\nif type(_DIAS_ser) != pd.Series:\n    train['BsmtCond'] = train['BsmtCond'].fillna('NB')\nelse:\n    train['BsmtCond'].fillna('NB', inplace=True)\n_DIAS_ser = train['BsmtQual']\nif type(_DIAS_ser) != pd.Series:\n    train['BsmtQual'] = train['BsmtQual'].fillna('NB')\nelse:\n    train['BsmtQual'].fillna('NB', inplace=True)\n"
    },
    {
      "raw": "train['MasVnrArea'] = train['MasVnrArea'].fillna(train['MasVnrArea'].mean())",
      "rewrite-ns": 447382,
      "overhead-ns": 447382,
      "exec-ns": 2722108,
      "total-ns": 3169490,
      "patts-hit": {
        "IsInplaceUpdate": 1
      },
      "rewritten": "_DIAS_ser = train['MasVnrArea']\nif type(_DIAS_ser) != pd.Series:\n    train['MasVnrArea'] = train['MasVnrArea'].fillna(train['MasVnrArea'].mean()\n        )\nelse:\n    train['MasVnrArea'].fillna(train['MasVnrArea'].mean(), inplace=True)\n"
    },
    {
      "raw": "train['MasVnrType'] = train['MasVnrType'].fillna('none')",
      "rewrite-ns": 364637,
      "overhead-ns": 364637,
      "exec-ns": 13556178,
      "total-ns": 13920815,
      "patts-hit": {
        "IsInplaceUpdate": 1
      },
      "rewritten": "_DIAS_ser = train['MasVnrType']\nif type(_DIAS_ser) != pd.Series:\n    train['MasVnrType'] = train['MasVnrType'].fillna('none')\nelse:\n    train['MasVnrType'].fillna('none', inplace=True)\n"
    },
    {
      "raw": "train.Electrical = train.Electrical.fillna('SBrkr')",
      "rewrite-ns": 470633,
      "overhead-ns": 470633,
      "exec-ns": 96675810,
      "total-ns": 97146443,
      "patts-hit": {},
      "rewritten": "train.Electrical = train.Electrical.fillna('SBrkr')\n"
    },
    {
      "raw": "train.isnull().sum().sum()",
      "rewrite-ns": 513619,
      "overhead-ns": 513619,
      "exec-ns": 1422262300,
      "total-ns": 1422775919,
      "patts-hit": {},
      "rewritten": "train.isnull().sum().sum()\n"
    },
    {
      "raw": "num_train = train._get_numeric_data()",
      "rewrite-ns": 378167,
      "overhead-ns": 378167,
      "exec-ns": 372442,
      "total-ns": 750609,
      "patts-hit": {},
      "rewritten": "num_train = train._get_numeric_data()\n"
    },
    {
      "raw": "num_train.columns",
      "rewrite-ns": 59949,
      "overhead-ns": 59949,
      "exec-ns": 727022,
      "total-ns": 786971,
      "patts-hit": {},
      "rewritten": "num_train.columns\n"
    },
    {
      "raw": "def var_summary(x):\n    return pd.Series([x.count(), x.isnull().sum(), x.sum(), x.mean(), x.median(),  x.std(), x.var(), x.min(), x.quantile(0.01), x.quantile(0.05),x.quantile(0.10),x.quantile(0.25),x.quantile(0.50),x.quantile(0.75), x.quantile(0.90),x.quantile(0.95), x.quantile(0.99),x.max()], \n                  index=['N', 'NMISS', 'SUM', 'MEAN','MEDIAN', 'STD', 'VAR', 'MIN', 'P1' , 'P5' ,'P10' ,'P25' ,'P50' ,'P75' ,'P90' ,'P95' ,'P99' ,'MAX'])\n\nnum_train.apply(lambda x: var_summary(x)).T\n",
      "rewrite-ns": 4766197,
      "overhead-ns": 4770699,
      "exec-ns": 1530216141,
      "total-ns": 1534982338,
      "patts-hit": {},
      "rewritten": "def var_summary(x):\n    return pd.Series([x.count(), x.isnull().sum(), x.sum(), x.mean(), x.\n        median(), x.std(), x.var(), x.min(), x.quantile(0.01), x.quantile(\n        0.05), x.quantile(0.1), x.quantile(0.25), x.quantile(0.5), x.\n        quantile(0.75), x.quantile(0.9), x.quantile(0.95), x.quantile(0.99),\n        x.max()], index=['N', 'NMISS', 'SUM', 'MEAN', 'MEDIAN', 'STD',\n        'VAR', 'MIN', 'P1', 'P5', 'P10', 'P25', 'P50', 'P75', 'P90', 'P95',\n        'P99', 'MAX'])\nnum_train.apply(lambda x: var_summary(x)).T\n"
    },
    {
      "raw": "",
      "rewrite-ns": 21047,
      "overhead-ns": 21047,
      "exec-ns": 105531,
      "total-ns": 126578,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot([num_train.LotFrontage])\n_ = [num_train.LotFrontage]",
      "rewrite-ns": 353858,
      "overhead-ns": 353858,
      "exec-ns": 341679,
      "total-ns": 695537,
      "patts-hit": {},
      "rewritten": "_ = [num_train.LotFrontage]\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['LotFrontage']= train['LotFrontage'].clip_upper(train['LotFrontage'].quantile(0.99))\ntrain['LotFrontage']= train['LotFrontage'].clip(upper=train['LotFrontage'].quantile(0.99))",
      "rewrite-ns": 879295,
      "overhead-ns": 879295,
      "exec-ns": 7568475,
      "total-ns": 8447770,
      "patts-hit": {},
      "rewritten": "train['LotFrontage'] = train['LotFrontage'].clip(upper=train['LotFrontage']\n    .quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(num_train.LotArea)\n_ = num_train.LotArea",
      "rewrite-ns": 270113,
      "overhead-ns": 270113,
      "exec-ns": 273005,
      "total-ns": 543118,
      "patts-hit": {},
      "rewritten": "_ = num_train.LotArea\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['LotArea']= train['LotArea'].clip_upper(train['LotArea'].quantile(0.99))\ntrain['LotArea']= train['LotArea'].clip(upper=train['LotArea'].quantile(0.99))",
      "rewrite-ns": 819339,
      "overhead-ns": 819339,
      "exec-ns": 37581120,
      "total-ns": 38400459,
      "patts-hit": {},
      "rewritten": "train['LotArea'] = train['LotArea'].clip(upper=train['LotArea'].quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['MasVnrArea'])\n_ = train['MasVnrArea']",
      "rewrite-ns": 357331,
      "overhead-ns": 357331,
      "exec-ns": 347837,
      "total-ns": 705168,
      "patts-hit": {},
      "rewritten": "_ = train['MasVnrArea']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['MasVnrArea']= train['MasVnrArea'].clip_upper(train['MasVnrArea'].quantile(0.99))\ntrain['MasVnrArea']= train['MasVnrArea'].clip(upper=train['MasVnrArea'].quantile(0.99))",
      "rewrite-ns": 861574,
      "overhead-ns": 861574,
      "exec-ns": 6462390,
      "total-ns": 7323964,
      "patts-hit": {},
      "rewritten": "train['MasVnrArea'] = train['MasVnrArea'].clip(upper=train['MasVnrArea'].\n    quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['BsmtFinSF1'])\n_ = train['BsmtFinSF1']",
      "rewrite-ns": 307274,
      "overhead-ns": 307274,
      "exec-ns": 270314,
      "total-ns": 577588,
      "patts-hit": {},
      "rewritten": "_ = train['BsmtFinSF1']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['BsmtFinSF2'])\n_ = train['BsmtFinSF2']",
      "rewrite-ns": 297666,
      "overhead-ns": 297666,
      "exec-ns": 245926,
      "total-ns": 543592,
      "patts-hit": {},
      "rewritten": "_ = train['BsmtFinSF2']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['BsmtFinSF1']= train['BsmtFinSF1'].clip_upper(train['BsmtFinSF1'].quantile(0.99)) \n# train['BsmtFinSF2']= train['BsmtFinSF2'].clip_upper(train['BsmtFinSF2'].quantile(0.99))\ntrain['BsmtFinSF1']= train['BsmtFinSF1'].clip(upper=train['BsmtFinSF1'].quantile(0.99)) \ntrain['BsmtFinSF2']= train['BsmtFinSF2'].clip(upper=train['BsmtFinSF2'].quantile(0.99))",
      "rewrite-ns": 1558259,
      "overhead-ns": 1558259,
      "exec-ns": 70009269,
      "total-ns": 71567528,
      "patts-hit": {},
      "rewritten": "train['BsmtFinSF1'] = train['BsmtFinSF1'].clip(upper=train['BsmtFinSF1'].\n    quantile(0.99))\ntrain['BsmtFinSF2'] = train['BsmtFinSF2'].clip(upper=train['BsmtFinSF2'].\n    quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['TotalBsmtSF'])\n_ = train['TotalBsmtSF']",
      "rewrite-ns": 349439,
      "overhead-ns": 349439,
      "exec-ns": 628214,
      "total-ns": 977653,
      "patts-hit": {},
      "rewritten": "_ = train['TotalBsmtSF']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['TotalBsmtSF']= train['TotalBsmtSF'].clip_upper(train['TotalBsmtSF'].quantile(0.99))\ntrain['TotalBsmtSF']= train['TotalBsmtSF'].clip(upper=train['TotalBsmtSF'].quantile(0.99))",
      "rewrite-ns": 861774,
      "overhead-ns": 861774,
      "exec-ns": 33835331,
      "total-ns": 34697105,
      "patts-hit": {},
      "rewritten": "train['TotalBsmtSF'] = train['TotalBsmtSF'].clip(upper=train['TotalBsmtSF']\n    .quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['1stFlrSF'])\n_ = train['1stFlrSF']",
      "rewrite-ns": 347074,
      "overhead-ns": 347074,
      "exec-ns": 622121,
      "total-ns": 969195,
      "patts-hit": {},
      "rewritten": "_ = train['1stFlrSF']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['1stFlrSF']= train['1stFlrSF'].clip_upper(train['1stFlrSF'].quantile(0.99))\ntrain['1stFlrSF']= train['1stFlrSF'].clip(upper=train['1stFlrSF'].quantile(0.99))",
      "rewrite-ns": 855361,
      "overhead-ns": 855361,
      "exec-ns": 33561355,
      "total-ns": 34416716,
      "patts-hit": {},
      "rewritten": "train['1stFlrSF'] = train['1stFlrSF'].clip(upper=train['1stFlrSF'].quantile\n    (0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['2ndFlrSF'])\n_ = train['2ndFlrSF']",
      "rewrite-ns": 343847,
      "overhead-ns": 343847,
      "exec-ns": 625311,
      "total-ns": 969158,
      "patts-hit": {},
      "rewritten": "_ = train['2ndFlrSF']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['2ndFlrSF']= train['2ndFlrSF'].clip_upper(train['2ndFlrSF'].quantile(0.99))\ntrain['2ndFlrSF']= train['2ndFlrSF'].clip(upper=train['2ndFlrSF'].quantile(0.99))",
      "rewrite-ns": 854506,
      "overhead-ns": 854506,
      "exec-ns": 30852242,
      "total-ns": 31706748,
      "patts-hit": {},
      "rewritten": "train['2ndFlrSF'] = train['2ndFlrSF'].clip(upper=train['2ndFlrSF'].quantile\n    (0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['GrLivArea'])\n_ = train['GrLivArea']",
      "rewrite-ns": 348367,
      "overhead-ns": 348367,
      "exec-ns": 544801,
      "total-ns": 893168,
      "patts-hit": {},
      "rewritten": "_ = train['GrLivArea']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['GrLivArea']= train['GrLivArea'].clip_upper(train['GrLivArea'].quantile(0.99))\ntrain['GrLivArea']= train['GrLivArea'].clip(upper=train['GrLivArea'].quantile(0.99))",
      "rewrite-ns": 856793,
      "overhead-ns": 856793,
      "exec-ns": 31704804,
      "total-ns": 32561597,
      "patts-hit": {},
      "rewritten": "train['GrLivArea'] = train['GrLivArea'].clip(upper=train['GrLivArea'].\n    quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['BedroomAbvGr'])\n_ = train['BedroomAbvGr']",
      "rewrite-ns": 347309,
      "overhead-ns": 347309,
      "exec-ns": 557643,
      "total-ns": 904952,
      "patts-hit": {},
      "rewritten": "_ = train['BedroomAbvGr']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['BedroomAbvGr']= train['BedroomAbvGr'].clip_upper(train['BedroomAbvGr'].quantile(0.99))\n# train['BedroomAbvGr']= train['BedroomAbvGr'].clip_lower(train['BedroomAbvGr'].quantile(0.01))\ntrain['BedroomAbvGr']= train['BedroomAbvGr'].clip(upper=train['BedroomAbvGr'].quantile(0.99))\ntrain['BedroomAbvGr']= train['BedroomAbvGr'].clip(lower=train['BedroomAbvGr'].quantile(0.01))",
      "rewrite-ns": 1701960,
      "overhead-ns": 1701960,
      "exec-ns": 36558996,
      "total-ns": 38260956,
      "patts-hit": {},
      "rewritten": "train['BedroomAbvGr'] = train['BedroomAbvGr'].clip(upper=train[\n    'BedroomAbvGr'].quantile(0.99))\ntrain['BedroomAbvGr'] = train['BedroomAbvGr'].clip(lower=train[\n    'BedroomAbvGr'].quantile(0.01))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['GarageCars'])\n_ = train['GarageCars']",
      "rewrite-ns": 342085,
      "overhead-ns": 342085,
      "exec-ns": 552735,
      "total-ns": 894820,
      "patts-hit": {},
      "rewritten": "_ = train['GarageCars']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['GarageCars']= train['GarageCars'].clip_upper(train['GarageCars'].quantile(0.99))\ntrain['GarageCars']= train['GarageCars'].clip(upper=train['GarageCars'].quantile(0.99))",
      "rewrite-ns": 858226,
      "overhead-ns": 858226,
      "exec-ns": 28325017,
      "total-ns": 29183243,
      "patts-hit": {},
      "rewritten": "train['GarageCars'] = train['GarageCars'].clip(upper=train['GarageCars'].\n    quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['GarageArea'])\n_ = train['GarageArea']",
      "rewrite-ns": 343278,
      "overhead-ns": 343278,
      "exec-ns": 511081,
      "total-ns": 854359,
      "patts-hit": {},
      "rewritten": "_ = train['GarageArea']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['GarageArea']= train['GarageArea'].clip_upper(train['GarageArea'].quantile(0.99))\ntrain['GarageArea']= train['GarageArea'].clip(upper=train['GarageArea'].quantile(0.99))",
      "rewrite-ns": 844181,
      "overhead-ns": 844181,
      "exec-ns": 29366036,
      "total-ns": 30210217,
      "patts-hit": {},
      "rewritten": "train['GarageArea'] = train['GarageArea'].clip(upper=train['GarageArea'].\n    quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['WoodDeckSF'])\n_ = train['WoodDeckSF']",
      "rewrite-ns": 348054,
      "overhead-ns": 348054,
      "exec-ns": 924642,
      "total-ns": 1272696,
      "patts-hit": {},
      "rewritten": "_ = train['WoodDeckSF']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['WoodDeckSF']= train['WoodDeckSF'].clip_upper(train['WoodDeckSF'].quantile(0.99))\ntrain['WoodDeckSF']= train['WoodDeckSF'].clip(upper=train['WoodDeckSF'].quantile(0.99))",
      "rewrite-ns": 887121,
      "overhead-ns": 887121,
      "exec-ns": 27354738,
      "total-ns": 28241859,
      "patts-hit": {},
      "rewritten": "train['WoodDeckSF'] = train['WoodDeckSF'].clip(upper=train['WoodDeckSF'].\n    quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['OpenPorchSF'])\n_ = train['OpenPorchSF']",
      "rewrite-ns": 346033,
      "overhead-ns": 346033,
      "exec-ns": 592569,
      "total-ns": 938602,
      "patts-hit": {},
      "rewritten": "_ = train['OpenPorchSF']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['OpenPorchSF']= train['OpenPorchSF'].clip_upper(train['OpenPorchSF'].quantile(0.99))\ntrain['OpenPorchSF']= train['OpenPorchSF'].clip(upper=train['OpenPorchSF'].quantile(0.99))",
      "rewrite-ns": 849282,
      "overhead-ns": 849282,
      "exec-ns": 25939676,
      "total-ns": 26788958,
      "patts-hit": {},
      "rewritten": "train['OpenPorchSF'] = train['OpenPorchSF'].clip(upper=train['OpenPorchSF']\n    .quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['EnclosedPorch'])\n_ = train['EnclosedPorch']",
      "rewrite-ns": 337838,
      "overhead-ns": 337838,
      "exec-ns": 501661,
      "total-ns": 839499,
      "patts-hit": {},
      "rewritten": "_ = train['EnclosedPorch']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['EnclosedPorch']= train['EnclosedPorch'].clip_upper(train['EnclosedPorch'].quantile(0.99))\ntrain['EnclosedPorch']= train['EnclosedPorch'].clip(upper=train['EnclosedPorch'].quantile(0.99))",
      "rewrite-ns": 843835,
      "overhead-ns": 843835,
      "exec-ns": 23926162,
      "total-ns": 24769997,
      "patts-hit": {},
      "rewritten": "train['EnclosedPorch'] = train['EnclosedPorch'].clip(upper=train[\n    'EnclosedPorch'].quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['3SsnPorch'])\n_ = train['3SsnPorch']",
      "rewrite-ns": 334499,
      "overhead-ns": 334499,
      "exec-ns": 515417,
      "total-ns": 849916,
      "patts-hit": {},
      "rewritten": "_ = train['3SsnPorch']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['3SsnPorch']= train['3SsnPorch'].clip_upper(train['3SsnPorch'].quantile(0.99))\ntrain['3SsnPorch']= train['3SsnPorch'].clip(upper=train['3SsnPorch'].quantile(0.99))",
      "rewrite-ns": 846286,
      "overhead-ns": 846286,
      "exec-ns": 22628037,
      "total-ns": 23474323,
      "patts-hit": {},
      "rewritten": "train['3SsnPorch'] = train['3SsnPorch'].clip(upper=train['3SsnPorch'].\n    quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['ScreenPorch'])\n_ = train['ScreenPorch']",
      "rewrite-ns": 333519,
      "overhead-ns": 333519,
      "exec-ns": 524639,
      "total-ns": 858158,
      "patts-hit": {},
      "rewritten": "_ = train['ScreenPorch']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['ScreenPorch']= train['ScreenPorch'].clip_upper(train['ScreenPorch'].quantile(0.99))\ntrain['ScreenPorch']= train['ScreenPorch'].clip(upper=train['ScreenPorch'].quantile(0.99))",
      "rewrite-ns": 845263,
      "overhead-ns": 845263,
      "exec-ns": 22915471,
      "total-ns": 23760734,
      "patts-hit": {},
      "rewritten": "train['ScreenPorch'] = train['ScreenPorch'].clip(upper=train['ScreenPorch']\n    .quantile(0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['PoolArea'])\n_ = train['PoolArea']",
      "rewrite-ns": 333146,
      "overhead-ns": 333146,
      "exec-ns": 470778,
      "total-ns": 803924,
      "patts-hit": {},
      "rewritten": "_ = train['PoolArea']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['PoolArea']= train['PoolArea'].clip_upper(train['PoolArea'].quantile(0.99))\ntrain['PoolArea']= train['PoolArea'].clip(upper=train['PoolArea'].quantile(0.99))",
      "rewrite-ns": 849909,
      "overhead-ns": 849909,
      "exec-ns": 20982800,
      "total-ns": 21832709,
      "patts-hit": {},
      "rewritten": "train['PoolArea'] = train['PoolArea'].clip(upper=train['PoolArea'].quantile\n    (0.99))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train['MiscVal'])\n_ = train['MiscVal']",
      "rewrite-ns": 333782,
      "overhead-ns": 333782,
      "exec-ns": 543315,
      "total-ns": 877097,
      "patts-hit": {},
      "rewritten": "_ = train['MiscVal']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove plotting\n# sns.boxplot(train.SalePrice)\n_ = train.SalePrice",
      "rewrite-ns": 256784,
      "overhead-ns": 256784,
      "exec-ns": 273470,
      "total-ns": 530254,
      "patts-hit": {},
      "rewritten": "_ = train.SalePrice\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['SalePrice']= train['SalePrice'].clip_upper(train['SalePrice'].quantile(0.99))\n# train['SalePrice']= train['SalePrice'].clip_lower(train['SalePrice'].quantile(0.01))\ntrain['SalePrice']= train['SalePrice'].clip(upper=train['SalePrice'].quantile(0.99))\ntrain['SalePrice']= train['SalePrice'].clip(lower=train['SalePrice'].quantile(0.01))",
      "rewrite-ns": 1573329,
      "overhead-ns": 1573329,
      "exec-ns": 28481825,
      "total-ns": 30055154,
      "patts-hit": {},
      "rewritten": "train['SalePrice'] = train['SalePrice'].clip(upper=train['SalePrice'].\n    quantile(0.99))\ntrain['SalePrice'] = train['SalePrice'].clip(lower=train['SalePrice'].\n    quantile(0.01))\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# train['MiscVal']= train['MiscVal'].clip_upper(train['MiscVal'].quantile(0.99))\ntrain['MiscVal']= train['MiscVal'].clip(upper=train['MiscVal'].quantile(0.99))",
      "rewrite-ns": 854938,
      "overhead-ns": 854938,
      "exec-ns": 19927731,
      "total-ns": 20782669,
      "patts-hit": {},
      "rewritten": "train['MiscVal'] = train['MiscVal'].clip(upper=train['MiscVal'].quantile(0.99))\n"
    },
    {
      "raw": "num_corr=num_train .corr()\n# FIRST-AUTHOR: remove plotting\n# plt.subplots(figsize=(13,10))\n# sns.heatmap(num_corr,vmax =.8 ,square = True)",
      "rewrite-ns": 365932,
      "overhead-ns": 365932,
      "exec-ns": 1215134759,
      "total-ns": 1215500691,
      "patts-hit": {},
      "rewritten": "num_corr = num_train.corr()\n"
    },
    {
      "raw": "k = 14\ncols = num_corr.nlargest(k, 'SalePrice')['SalePrice'].index\ncm = np.corrcoef(num_train[cols].values.T)\n# FIRST-AUTHOR: remove plotting\n# sns.set(font_scale=1.35)\n# f, ax = plt.subplots(figsize=(10,10))\n# hm=sns.heatmap(cm, annot = True,vmax =.8, yticklabels=cols.values, xticklabels = cols.values)\n_ = cols.values\n_ = cols.values",
      "rewrite-ns": 1631550,
      "overhead-ns": 1631550,
      "exec-ns": 41379306,
      "total-ns": 43010856,
      "patts-hit": {},
      "rewritten": "k = 14\ncols = num_corr.nlargest(k, 'SalePrice')['SalePrice'].index\ncm = np.corrcoef(num_train[cols].values.T)\n_ = cols.values\n_ = cols.values\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# import statsmodels.api as sm\n# import statsmodels.formula.api as smf",
      "rewrite-ns": 20846,
      "overhead-ns": 20846,
      "exec-ns": 111520,
      "total-ns": 132366,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "train.info()",
      "rewrite-ns": 123795,
      "overhead-ns": 123795,
      "exec-ns": 1410485394,
      "total-ns": 1410609189,
      "patts-hit": {},
      "rewritten": "train.info()\n"
    },
    {
      "raw": "train.columns",
      "rewrite-ns": 74375,
      "overhead-ns": 74375,
      "exec-ns": 855128,
      "total-ns": 929503,
      "patts-hit": {},
      "rewritten": "train.columns\n"
    },
    {
      "raw": "s1 = set(train.columns)\ns2 = set(['SalePrice'])",
      "rewrite-ns": 683654,
      "overhead-ns": 683654,
      "exec-ns": 292705,
      "total-ns": 976359,
      "patts-hit": {},
      "rewritten": "s1 = set(train.columns)\ns2 = set(['SalePrice'])\n"
    },
    {
      "raw": "features = \"+\".join((set(s1)-s2))\nfeatures",
      "rewrite-ns": 593053,
      "overhead-ns": 593053,
      "exec-ns": 503246,
      "total-ns": 1096299,
      "patts-hit": {},
      "rewritten": "features = '+'.join(set(s1) - s2)\nfeatures\n"
    },
    {
      "raw": "train = train.rename(columns ={'1stFlrSF':'firstFlrSF','2ndFlrSF':'iindFlrSF','3SsnPorch':'iiiSsnPorch'})",
      "rewrite-ns": 629043,
      "overhead-ns": 629043,
      "exec-ns": 453189529,
      "total-ns": 453818572,
      "patts-hit": {},
      "rewritten": "train = train.rename(columns={'1stFlrSF': 'firstFlrSF', '2ndFlrSF':\n    'iindFlrSF', '3SsnPorch': 'iiiSsnPorch'})\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# lm=smf.ols('SalePrice~firstFlrSF+MasVnrType+GarageFinish+KitchenAbvGr+WoodDeckSF+LandContour+LandSlope+GarageCars+Street+Exterior1st+iindFlrSF+SaleCondition+Electrical+LotConfig+HeatingQC+PavedDrive+LotArea+BsmtUnfSF+RoofMatl+TotRmsAbvGrd+BsmtFullBath+ExterQual+BedroomAbvGr+EnclosedPorch+BsmtQual+BsmtFinSF2+GarageCond+HouseStyle+GrLivArea+PoolArea+Utilities+BsmtExposure+HalfBath+Condition1+YrSold+MasVnrArea+BldgType+MSZoning+Fireplaces+FireplaceQu+BsmtFinType1+YearBuilt+BsmtHalfBath+Heating+SaleType+BsmtCond+MSSubClass+ScreenPorch+OpenPorchSF+FullBath+BsmtFinSF1+MoSold+LowQualFinSF+GarageType+Exterior2nd+iiiSsnPorch+TotalBsmtSF+ExterCond+Neighborhood+OverallQual+GarageArea+LotShape+MiscVal+YearRemodAdd+OverallCond+BsmtFinType2+Condition2+CentralAir+LotFrontage+Functional+RoofStyle+GarageYrBlt+KitchenQual+Foundation+GarageQual',data = train).fit()",
      "rewrite-ns": 26266,
      "overhead-ns": 26266,
      "exec-ns": 114635,
      "total-ns": 140901,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# lm.summary()",
      "rewrite-ns": 14944,
      "overhead-ns": 14944,
      "exec-ns": 80284,
      "total-ns": 95228,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "",
      "rewrite-ns": 10693,
      "overhead-ns": 10693,
      "exec-ns": 65503,
      "total-ns": 76196,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# imc = pd.DataFrame(lm.pvalues)\n# imc\nimc = pd.DataFrame(pd.Series(0, index=['firstFlrSF', 'MasVnrType', 'GarageFinish+KitchenAbvGr',\n                                       'WoodDeckSF', 'LandContour', 'LandSlope', 'GarageCars',\n                                       'Street', 'Exterior1st', 'iindFlrSF', 'SaleCondition',\n                                       'Electrical', 'LotConfig', 'HeatingQC', 'PavedDrive', 'LotArea',\n                                       'BsmtUnfSF', 'RoofMatl', 'TotRmsAbvGrd', 'BsmtFullBath', 'ExterQual',\n                                       'BedroomAbvGr', 'EnclosedPorch', 'BsmtQual', 'BsmtFinSF2', 'GarageCond',\n                                       'HouseStyle', 'GrLivArea', 'PoolArea', 'Utilities', 'BsmtExposure',\n                                       'HalfBath', 'Condition1', 'YrSold', 'MasVnrArea', 'BldgType',\n                                       'MSZoning', 'Fireplaces', 'FireplaceQu', 'BsmtFinType1', 'YearBuilt',\n                                       'BsmtHalfBath', 'Heating', 'SaleType', 'BsmtCond', 'MSSubClass',\n                                       'ScreenPorch', 'OpenPorchSF', 'FullBath', 'BsmtFinSF1', 'MoSold',\n                                       'LowQualFinSF', 'GarageType', 'Exterior2nd', 'iiiSsnPorch',\n                                       'TotalBsmtSF', 'ExterCond', 'Neighborhood', 'OverallQual',\n                                       'GarageArea', 'LotShape', 'MiscVal', 'YearRemodAdd',\n                                       'OverallCond', 'BsmtFinType2', 'Condition2', 'CentralAir',\n                                       'LotFrontage', 'Functional', 'RoofStyle', 'GarageYrBlt', 'KitchenQual',\n                                       'Foundation', 'GarageQual']))\nimc",
      "rewrite-ns": 3304350,
      "overhead-ns": 3304350,
      "exec-ns": 3897678,
      "total-ns": 7202028,
      "patts-hit": {},
      "rewritten": "imc = pd.DataFrame(pd.Series(0, index=['firstFlrSF', 'MasVnrType',\n    'GarageFinish+KitchenAbvGr', 'WoodDeckSF', 'LandContour', 'LandSlope',\n    'GarageCars', 'Street', 'Exterior1st', 'iindFlrSF', 'SaleCondition',\n    'Electrical', 'LotConfig', 'HeatingQC', 'PavedDrive', 'LotArea',\n    'BsmtUnfSF', 'RoofMatl', 'TotRmsAbvGrd', 'BsmtFullBath', 'ExterQual',\n    'BedroomAbvGr', 'EnclosedPorch', 'BsmtQual', 'BsmtFinSF2', 'GarageCond',\n    'HouseStyle', 'GrLivArea', 'PoolArea', 'Utilities', 'BsmtExposure',\n    'HalfBath', 'Condition1', 'YrSold', 'MasVnrArea', 'BldgType',\n    'MSZoning', 'Fireplaces', 'FireplaceQu', 'BsmtFinType1', 'YearBuilt',\n    'BsmtHalfBath', 'Heating', 'SaleType', 'BsmtCond', 'MSSubClass',\n    'ScreenPorch', 'OpenPorchSF', 'FullBath', 'BsmtFinSF1', 'MoSold',\n    'LowQualFinSF', 'GarageType', 'Exterior2nd', 'iiiSsnPorch',\n    'TotalBsmtSF', 'ExterCond', 'Neighborhood', 'OverallQual', 'GarageArea',\n    'LotShape', 'MiscVal', 'YearRemodAdd', 'OverallCond', 'BsmtFinType2',\n    'Condition2', 'CentralAir', 'LotFrontage', 'Functional', 'RoofStyle',\n    'GarageYrBlt', 'KitchenQual', 'Foundation', 'GarageQual']))\nimc\n"
    },
    {
      "raw": "best_features = imc[imc[0] <= 0.05].index\nbest_features",
      "rewrite-ns": 594655,
      "overhead-ns": 594655,
      "exec-ns": 1110000,
      "total-ns": 1704655,
      "patts-hit": {},
      "rewritten": "best_features = imc[imc[0] <= 0.05].index\nbest_features\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from statsmodels.stats.outliers_influence import variance_inflation_factor as vif",
      "rewrite-ns": 12795,
      "overhead-ns": 12795,
      "exec-ns": 65409,
      "total-ns": 78204,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# train['intercept'] = lm.params[0]\ntrain['intercept'] = 210016.3483272409",
      "rewrite-ns": 289247,
      "overhead-ns": 289247,
      "exec-ns": 788148,
      "total-ns": 1077395,
      "patts-hit": {},
      "rewritten": "train['intercept'] = 210016.3483272409\n"
    },
    {
      "raw": "for i in range(18):\n# FIRST-AUTHOR: make notebook run, remove ML code\n#     print (vif(train[['firstFlrSF', 'WoodDeckSF', 'GarageCars', 'iindFlrSF', 'LotArea',\n#        'BsmtUnfSF', 'GrLivArea', 'PoolArea', 'Fireplaces', 'YearBuilt',\n#        'ScreenPorch', 'LowQualFinSF', 'TotalBsmtSF', 'OverallQual',\n#        'GarageArea', 'YearRemodAdd', 'OverallCond','intercept']].as_matrix(), i))\n    _ = train[['firstFlrSF', 'WoodDeckSF', 'GarageCars', 'iindFlrSF', 'LotArea',\n       'BsmtUnfSF', 'GrLivArea', 'PoolArea', 'Fireplaces', 'YearBuilt',\n       'ScreenPorch', 'LowQualFinSF', 'TotalBsmtSF', 'OverallQual',\n       'GarageArea', 'YearRemodAdd', 'OverallCond','intercept']].to_numpy()",
      "rewrite-ns": 1273155,
      "overhead-ns": 1273155,
      "exec-ns": 470818704,
      "total-ns": 472091859,
      "patts-hit": {},
      "rewritten": "for i in range(18):\n    _ = train[['firstFlrSF', 'WoodDeckSF', 'GarageCars', 'iindFlrSF',\n        'LotArea', 'BsmtUnfSF', 'GrLivArea', 'PoolArea', 'Fireplaces',\n        'YearBuilt', 'ScreenPorch', 'LowQualFinSF', 'TotalBsmtSF',\n        'OverallQual', 'GarageArea', 'YearRemodAdd', 'OverallCond',\n        'intercept']].to_numpy()\n"
    },
    {
      "raw": "train_a = train[ ['GarageFinish','Exterior1st','SaleCondition', 'LotConfig', 'RoofMatl', 'ExterQual', 'BsmtQual',  'GarageCond',\n        'BsmtExposure', 'Condition1','BldgType', 'MSZoning', 'SaleType','GarageType', 'Exterior2nd','Neighborhood', 'Condition2',\n       'Functional', 'GarageYrBlt', 'KitchenQual','Foundation', 'GarageQual', 'WoodDeckSF', 'LotArea',\n       'BsmtUnfSF', 'Fireplaces', 'YearBuilt','ScreenPorch', 'LowQualFinSF', 'TotalBsmtSF', 'OverallQual',\n       'YearRemodAdd', 'OverallCond','SalePrice']]",
      "rewrite-ns": 1579224,
      "overhead-ns": 1579224,
      "exec-ns": 62875551,
      "total-ns": 64454775,
      "patts-hit": {},
      "rewritten": "train_a = train[['GarageFinish', 'Exterior1st', 'SaleCondition',\n    'LotConfig', 'RoofMatl', 'ExterQual', 'BsmtQual', 'GarageCond',\n    'BsmtExposure', 'Condition1', 'BldgType', 'MSZoning', 'SaleType',\n    'GarageType', 'Exterior2nd', 'Neighborhood', 'Condition2', 'Functional',\n    'GarageYrBlt', 'KitchenQual', 'Foundation', 'GarageQual', 'WoodDeckSF',\n    'LotArea', 'BsmtUnfSF', 'Fireplaces', 'YearBuilt', 'ScreenPorch',\n    'LowQualFinSF', 'TotalBsmtSF', 'OverallQual', 'YearRemodAdd',\n    'OverallCond', 'SalePrice']]\n"
    },
    {
      "raw": "best_train = train_a\nbest_train.info()",
      "rewrite-ns": 304604,
      "overhead-ns": 304604,
      "exec-ns": 783345687,
      "total-ns": 783650291,
      "patts-hit": {},
      "rewritten": "best_train = train_a\nbest_train.info()\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from sklearn.ensemble import RandomForestRegressor",
      "rewrite-ns": 26885,
      "overhead-ns": 26885,
      "exec-ns": 163108,
      "total-ns": 189993,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "train_d = pd.get_dummies(train)",
      "rewrite-ns": 431389,
      "overhead-ns": 431389,
      "exec-ns": 1129063463,
      "total-ns": 1129494852,
      "patts-hit": {},
      "rewritten": "train_d = pd.get_dummies(train)\n"
    },
    {
      "raw": "numeric = train._get_numeric_data()\ncategory = train.drop(numeric.columns,axis = 1)",
      "rewrite-ns": 843653,
      "overhead-ns": 843653,
      "exec-ns": 103427636,
      "total-ns": 104271289,
      "patts-hit": {},
      "rewritten": "numeric = train._get_numeric_data()\ncategory = train.drop(numeric.columns, axis=1)\n"
    },
    {
      "raw": "train_dx = train_d.drop([\"SalePrice\"],axis = 1)\ntrain_dy = train_d.SalePrice",
      "rewrite-ns": 801156,
      "overhead-ns": 801156,
      "exec-ns": 119955456,
      "total-ns": 120756612,
      "patts-hit": {},
      "rewritten": "train_dx = train_d.drop(['SalePrice'], axis=1)\ntrain_dy = train_d.SalePrice\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from sklearn.cross_validation import train_test_split",
      "rewrite-ns": 25628,
      "overhead-ns": 25628,
      "exec-ns": 117766,
      "total-ns": 143394,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train, X_test, Y_train, Y_test = train_test_split(\n#         train_dx,\n#         train_dy,\n#         test_size=0.20,\n#         random_state=123)",
      "rewrite-ns": 20907,
      "overhead-ns": 20907,
      "exec-ns": 99757,
      "total-ns": 120664,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "",
      "rewrite-ns": 12978,
      "overhead-ns": 12978,
      "exec-ns": 74775,
      "total-ns": 87753,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# radm_clf = RandomForestRegressor(oob_score=True,n_estimators=100 )\n# radm_clf.fit( X_train, Y_train )",
      "rewrite-ns": 12081,
      "overhead-ns": 12081,
      "exec-ns": 68322,
      "total-ns": 80403,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# indices = np.argsort(radm_clf.feature_importances_)[::-1]\nfeature_rank = pd.DataFrame( columns = ['rank', 'feature', 'importance'] )\n# FIRST-AUTHOR: remove ML code\n# for f in range(X_train.shape[1]):\n#     feature_rank.loc[f] = [f+1,\n#                          X_train.columns[indices[f]],\n#                          radm_clf.feature_importances_[indices[f]]]\n# f, ax = plt.subplots(figsize=(10,100))\n# sns.barplot( y = 'feature', x = 'importance', data = feature_rank, color = 'Yellow')\n# plt.show()",
      "rewrite-ns": 586389,
      "overhead-ns": 586389,
      "exec-ns": 1502408,
      "total-ns": 2088797,
      "patts-hit": {},
      "rewritten": "feature_rank = pd.DataFrame(columns=['rank', 'feature', 'importance'])\n"
    },
    {
      "raw": "ff = feature_rank.head(30)\nff",
      "rewrite-ns": 429078,
      "overhead-ns": 429078,
      "exec-ns": 1325969,
      "total-ns": 1755047,
      "patts-hit": {},
      "rewritten": "ff = feature_rank.head(30)\nff\n"
    },
    {
      "raw": "list(ff.feature)",
      "rewrite-ns": 311948,
      "overhead-ns": 311948,
      "exec-ns": 561639,
      "total-ns": 873587,
      "patts-hit": {},
      "rewritten": "list(ff.feature)\n"
    },
    {
      "raw": "final_cols = train_d[['OverallQual','GrLivArea','GarageCars', 'TotalBsmtSF', 'BsmtFinSF1', 'firstFlrSF',\n 'GarageArea', 'LotArea', 'YearBuilt', 'OpenPorchSF', 'FullBath', 'LotFrontage', 'BsmtUnfSF', 'YearRemodAdd',\n 'OverallCond','iindFlrSF','MasVnrArea','GarageType_Detchd','WoodDeckSF','MoSold','BsmtQual_Gd','TotRmsAbvGrd',\n 'Neighborhood_Edwards','KitchenAbvGr','MSZoning_RM','MSSubClass','BsmtQual_Ex','GarageType_Attchd',\n'ExterQual_Ex','KitchenQual_Gd']]",
      "rewrite-ns": 1387344,
      "overhead-ns": 1387344,
      "exec-ns": 153760817,
      "total-ns": 155148161,
      "patts-hit": {},
      "rewritten": "final_cols = train_d[['OverallQual', 'GrLivArea', 'GarageCars',\n    'TotalBsmtSF', 'BsmtFinSF1', 'firstFlrSF', 'GarageArea', 'LotArea',\n    'YearBuilt', 'OpenPorchSF', 'FullBath', 'LotFrontage', 'BsmtUnfSF',\n    'YearRemodAdd', 'OverallCond', 'iindFlrSF', 'MasVnrArea',\n    'GarageType_Detchd', 'WoodDeckSF', 'MoSold', 'BsmtQual_Gd',\n    'TotRmsAbvGrd', 'Neighborhood_Edwards', 'KitchenAbvGr', 'MSZoning_RM',\n    'MSSubClass', 'BsmtQual_Ex', 'GarageType_Attchd', 'ExterQual_Ex',\n    'KitchenQual_Gd']]\n"
    },
    {
      "raw": "data_x = final_cols\ndata_y = train.SalePrice\nfinal_data = pd.concat([data_x,data_y],axis = 1)",
      "rewrite-ns": 958651,
      "overhead-ns": 958651,
      "exec-ns": 18199471,
      "total-ns": 19158122,
      "patts-hit": {},
      "rewritten": "data_x = final_cols\ndata_y = train.SalePrice\nfinal_data = pd.concat([data_x, data_y], axis=1)\n"
    },
    {
      "raw": "feats = \"+\".join(data_x)\nfeats",
      "rewrite-ns": 448560,
      "overhead-ns": 448560,
      "exec-ns": 594231,
      "total-ns": 1042791,
      "patts-hit": {},
      "rewritten": "feats = '+'.join(data_x)\nfeats\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# import statsmodels.api as sm\n# import statsmodels.formula.api as smf",
      "rewrite-ns": 19800,
      "overhead-ns": 19800,
      "exec-ns": 95145,
      "total-ns": 114945,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "final_data = final_data.rename(columns ={'1stFlrSF':'firstFlrSF','2ndFlrSF':'iindFlrSF'})",
      "rewrite-ns": 606523,
      "overhead-ns": 606523,
      "exec-ns": 66827069,
      "total-ns": 67433592,
      "patts-hit": {},
      "rewritten": "final_data = final_data.rename(columns={'1stFlrSF': 'firstFlrSF',\n    '2ndFlrSF': 'iindFlrSF'})\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# lm=smf.ols('SalePrice~OverallQual+GrLivArea+GarageCars+TotalBsmtSF+BsmtFinSF1+firstFlrSF+GarageArea+LotArea+YearBuilt+OpenPorchSF+FullBath+LotFrontage+BsmtUnfSF+YearRemodAdd+OverallCond+iindFlrSF+MasVnrArea+GarageType_Detchd+WoodDeckSF+MoSold+BsmtQual_Gd+TotRmsAbvGrd+Neighborhood_Edwards+KitchenAbvGr+MSZoning_RM+MSSubClass+BsmtQual_Ex+GarageType_Attchd+ExterQual_Ex+KitchenQual_Gd',final_data).fit()",
      "rewrite-ns": 24466,
      "overhead-ns": 24466,
      "exec-ns": 116653,
      "total-ns": 141119,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# lm.summary()",
      "rewrite-ns": 19132,
      "overhead-ns": 19132,
      "exec-ns": 93275,
      "total-ns": 112407,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# lm.pvalues",
      "rewrite-ns": 13248,
      "overhead-ns": 13248,
      "exec-ns": 73991,
      "total-ns": 87239,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from statsmodels.stats.outliers_influence import variance_inflation_factor as vif",
      "rewrite-ns": 11999,
      "overhead-ns": 11999,
      "exec-ns": 68307,
      "total-ns": 80306,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# final_data['intercept'] = lm.params[0]\nfinal_data['intercept'] = -831389.4696019923",
      "rewrite-ns": 413606,
      "overhead-ns": 413606,
      "exec-ns": 939936,
      "total-ns": 1353542,
      "patts-hit": {},
      "rewritten": "final_data['intercept'] = -831389.4696019923\n"
    },
    {
      "raw": "final_data.columns",
      "rewrite-ns": 73039,
      "overhead-ns": 73039,
      "exec-ns": 724690,
      "total-ns": 797729,
      "patts-hit": {},
      "rewritten": "final_data.columns\n"
    },
    {
      "raw": "for i in range(31):\n# FIRST-AUTHOR: make notebook run\n#     print (vif(final_data[['OverallQual', 'GrLivArea', 'GarageCars', 'TotalBsmtSF', 'BsmtFinSF1',\n#        'firstFlrSF', 'GarageArea', 'LotArea', 'YearBuilt', 'OpenPorchSF',\n#        'FullBath', 'LotFrontage', 'BsmtUnfSF', 'YearRemodAdd', 'OverallCond',\n#        'iindFlrSF', 'MasVnrArea', 'GarageType_Detchd', 'WoodDeckSF', 'MoSold',\n#        'BsmtQual_Gd', 'TotRmsAbvGrd', 'Neighborhood_Edwards', 'KitchenAbvGr',\n#        'MSZoning_RM', 'MSSubClass', 'BsmtQual_Ex', 'GarageType_Attchd',\n#        'ExterQual_Ex', 'KitchenQual_Gd','intercept']].as_matrix(), i))\n    final_data[['OverallQual', 'GrLivArea', 'GarageCars', 'TotalBsmtSF', 'BsmtFinSF1',\n       'firstFlrSF', 'GarageArea', 'LotArea', 'YearBuilt', 'OpenPorchSF',\n       'FullBath', 'LotFrontage', 'BsmtUnfSF', 'YearRemodAdd', 'OverallCond',\n       'iindFlrSF', 'MasVnrArea', 'GarageType_Detchd', 'WoodDeckSF', 'MoSold',\n       'BsmtQual_Gd', 'TotRmsAbvGrd', 'Neighborhood_Edwards', 'KitchenAbvGr',\n       'MSZoning_RM', 'MSSubClass', 'BsmtQual_Ex', 'GarageType_Attchd',\n       'ExterQual_Ex', 'KitchenQual_Gd','intercept']].to_numpy()",
      "rewrite-ns": 1702358,
      "overhead-ns": 1702358,
      "exec-ns": 1464976484,
      "total-ns": 1466678842,
      "patts-hit": {},
      "rewritten": "for i in range(31):\n    final_data[['OverallQual', 'GrLivArea', 'GarageCars', 'TotalBsmtSF',\n        'BsmtFinSF1', 'firstFlrSF', 'GarageArea', 'LotArea', 'YearBuilt',\n        'OpenPorchSF', 'FullBath', 'LotFrontage', 'BsmtUnfSF',\n        'YearRemodAdd', 'OverallCond', 'iindFlrSF', 'MasVnrArea',\n        'GarageType_Detchd', 'WoodDeckSF', 'MoSold', 'BsmtQual_Gd',\n        'TotRmsAbvGrd', 'Neighborhood_Edwards', 'KitchenAbvGr',\n        'MSZoning_RM', 'MSSubClass', 'BsmtQual_Ex', 'GarageType_Attchd',\n        'ExterQual_Ex', 'KitchenQual_Gd', 'intercept']].to_numpy()\n"
    },
    {
      "raw": "final_data = final_data.rename(columns ={'firstFlrSF':'1stFlrSF','iindFlrSF':'2ndFlrSF'})",
      "rewrite-ns": 640889,
      "overhead-ns": 640889,
      "exec-ns": 21671006,
      "total-ns": 22311895,
      "patts-hit": {},
      "rewritten": "final_data = final_data.rename(columns={'firstFlrSF': '1stFlrSF',\n    'iindFlrSF': '2ndFlrSF'})\n"
    },
    {
      "raw": "final_data1 = final_data.drop(['GrLivArea', 'GarageCars', 'BsmtFinSF1', 'TotalBsmtSF',\n       '1stFlrSF', 'GarageArea','YearBuilt','BsmtUnfSF','2ndFlrSF'],axis = 1)",
      "rewrite-ns": 855607,
      "overhead-ns": 855607,
      "exec-ns": 16068195,
      "total-ns": 16923802,
      "patts-hit": {},
      "rewritten": "final_data1 = final_data.drop(['GrLivArea', 'GarageCars', 'BsmtFinSF1',\n    'TotalBsmtSF', '1stFlrSF', 'GarageArea', 'YearBuilt', 'BsmtUnfSF',\n    '2ndFlrSF'], axis=1)\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# import scipy.stats as stats",
      "rewrite-ns": 21494,
      "overhead-ns": 21494,
      "exec-ns": 108993,
      "total-ns": 130487,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "train.Neighborhood.value_counts()",
      "rewrite-ns": 356207,
      "overhead-ns": 356207,
      "exec-ns": 17804649,
      "total-ns": 18160856,
      "patts-hit": {},
      "rewritten": "train.Neighborhood.value_counts()\n"
    },
    {
      "raw": "nb1 = train.SalePrice[train.Neighborhood=='NAmes']\nnb2 = train.SalePrice[train.Neighborhood=='CollgCr']\nnb3 = train.SalePrice[train.Neighborhood=='Edwards']\nnb4 = train.SalePrice[train.Neighborhood=='Somerst']\nnb5 = train.SalePrice[train.Neighborhood=='Gilbert']\nnb6 = train.SalePrice[train.Neighborhood=='NridgHt']\nnb7 = train.SalePrice[train.Neighborhood=='Sawyer']\nnb8 = train.SalePrice[train.Neighborhood=='NWAmes']\nnb9 = train.SalePrice[train.Neighborhood=='SawyerW']\nnb10 = train.SalePrice[train.Neighborhood=='BrkSide']\nnb11 = train.SalePrice[train.Neighborhood=='Crawfor']\nnb12= train.SalePrice[train.Neighborhood=='Mitchel']\nnb13 = train.SalePrice[train.Neighborhood=='NoRidge']\nnb14 = train.SalePrice[train.Neighborhood=='Timber']\nnb15 = train.SalePrice[train.Neighborhood=='IDOTRR']\nnb16 = train.SalePrice[train.Neighborhood=='ClearCr']\nnb17 = train.SalePrice[train.Neighborhood=='StoneBr']\nnb18 = train.SalePrice[train.Neighborhood=='SWISU']\nnb19 = train.SalePrice[train.Neighborhood=='Blmngtn']\nnb20 = train.SalePrice[train.Neighborhood=='MeadowV']\nnb21 = train.SalePrice[train.Neighborhood=='BrDale']\nnb22 = train.SalePrice[train.Neighborhood=='Veenker']\nnb23 = train.SalePrice[train.Neighborhood=='NPkVill']\nnb24 = train.SalePrice[train.Neighborhood=='Blueste']",
      "rewrite-ns": 10578404,
      "overhead-ns": 10578404,
      "exec-ns": 426265517,
      "total-ns": 436843921,
      "patts-hit": {},
      "rewritten": "nb1 = train.SalePrice[train.Neighborhood == 'NAmes']\nnb2 = train.SalePrice[train.Neighborhood == 'CollgCr']\nnb3 = train.SalePrice[train.Neighborhood == 'Edwards']\nnb4 = train.SalePrice[train.Neighborhood == 'Somerst']\nnb5 = train.SalePrice[train.Neighborhood == 'Gilbert']\nnb6 = train.SalePrice[train.Neighborhood == 'NridgHt']\nnb7 = train.SalePrice[train.Neighborhood == 'Sawyer']\nnb8 = train.SalePrice[train.Neighborhood == 'NWAmes']\nnb9 = train.SalePrice[train.Neighborhood == 'SawyerW']\nnb10 = train.SalePrice[train.Neighborhood == 'BrkSide']\nnb11 = train.SalePrice[train.Neighborhood == 'Crawfor']\nnb12 = train.SalePrice[train.Neighborhood == 'Mitchel']\nnb13 = train.SalePrice[train.Neighborhood == 'NoRidge']\nnb14 = train.SalePrice[train.Neighborhood == 'Timber']\nnb15 = train.SalePrice[train.Neighborhood == 'IDOTRR']\nnb16 = train.SalePrice[train.Neighborhood == 'ClearCr']\nnb17 = train.SalePrice[train.Neighborhood == 'StoneBr']\nnb18 = train.SalePrice[train.Neighborhood == 'SWISU']\nnb19 = train.SalePrice[train.Neighborhood == 'Blmngtn']\nnb20 = train.SalePrice[train.Neighborhood == 'MeadowV']\nnb21 = train.SalePrice[train.Neighborhood == 'BrDale']\nnb22 = train.SalePrice[train.Neighborhood == 'Veenker']\nnb23 = train.SalePrice[train.Neighborhood == 'NPkVill']\nnb24 = train.SalePrice[train.Neighborhood == 'Blueste']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# stats.f_oneway(nb1,nb2,nb3,nb4,nb5,nb6,nb7,nb8,nb9,nb10,nb11,nb12,nb13,nb14,nb15,nb16,nb17,nb18,nb19,nb20,nb21,nb22,nb23,nb24)",
      "rewrite-ns": 16837,
      "overhead-ns": 16837,
      "exec-ns": 85555,
      "total-ns": 102392,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "train.GarageQual.value_counts()",
      "rewrite-ns": 351549,
      "overhead-ns": 351549,
      "exec-ns": 17371567,
      "total-ns": 17723116,
      "patts-hit": {},
      "rewritten": "train.GarageQual.value_counts()\n"
    },
    {
      "raw": "gq1 = train.SalePrice[train.GarageQual=='TA']\ngq2 = train.SalePrice[train.GarageQual=='NG']\ngq3 = train.SalePrice[train.GarageQual=='Fa']\ngq4 = train.SalePrice[train.GarageQual=='Gd']\ngq5 = train.SalePrice[train.GarageQual=='Ex']\ngq6 = train.SalePrice[train.GarageQual=='Po']",
      "rewrite-ns": 2637789,
      "overhead-ns": 2637789,
      "exec-ns": 100125493,
      "total-ns": 102763282,
      "patts-hit": {},
      "rewritten": "gq1 = train.SalePrice[train.GarageQual == 'TA']\ngq2 = train.SalePrice[train.GarageQual == 'NG']\ngq3 = train.SalePrice[train.GarageQual == 'Fa']\ngq4 = train.SalePrice[train.GarageQual == 'Gd']\ngq5 = train.SalePrice[train.GarageQual == 'Ex']\ngq6 = train.SalePrice[train.GarageQual == 'Po']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# stats.f_oneway(gq1,gq2,gq3,gq4,gq5)",
      "rewrite-ns": 14116,
      "overhead-ns": 14116,
      "exec-ns": 77811,
      "total-ns": 91927,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "train.GarageCond.value_counts()",
      "rewrite-ns": 340104,
      "overhead-ns": 340104,
      "exec-ns": 17387138,
      "total-ns": 17727242,
      "patts-hit": {},
      "rewritten": "train.GarageCond.value_counts()\n"
    },
    {
      "raw": "gc1 = train.SalePrice[train.GarageQual=='TA']\ngc2 = train.SalePrice[train.GarageQual=='NG']\ngc3 = train.SalePrice[train.GarageQual=='Fa']\ngc4 = train.SalePrice[train.GarageQual=='Gd']\ngc5 = train.SalePrice[train.GarageQual=='Po']\ngc6 = train.SalePrice[train.GarageQual=='Ex']",
      "rewrite-ns": 2679027,
      "overhead-ns": 2679027,
      "exec-ns": 99388880,
      "total-ns": 102067907,
      "patts-hit": {},
      "rewritten": "gc1 = train.SalePrice[train.GarageQual == 'TA']\ngc2 = train.SalePrice[train.GarageQual == 'NG']\ngc3 = train.SalePrice[train.GarageQual == 'Fa']\ngc4 = train.SalePrice[train.GarageQual == 'Gd']\ngc5 = train.SalePrice[train.GarageQual == 'Po']\ngc6 = train.SalePrice[train.GarageQual == 'Ex']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# stats.f_oneway(gc1,gc2,gc3,gc4,gc5)",
      "rewrite-ns": 15595,
      "overhead-ns": 15595,
      "exec-ns": 78292,
      "total-ns": 93887,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "train.BsmtExposure.value_counts()",
      "rewrite-ns": 340408,
      "overhead-ns": 340408,
      "exec-ns": 17201413,
      "total-ns": 17541821,
      "patts-hit": {},
      "rewritten": "train.BsmtExposure.value_counts()\n"
    },
    {
      "raw": "be1 = train.SalePrice[train.BsmtExposure==\"No\"]\nbe2 = train.SalePrice[train.BsmtExposure==\"Av\"]\nbe3 = train.SalePrice[train.BsmtExposure==\"Gd\"]\nbe4 = train.SalePrice[train.BsmtExposure==\"Mn\"]\nbe5 = train.SalePrice[train.BsmtExposure==\"NB\"]",
      "rewrite-ns": 2311927,
      "overhead-ns": 2311927,
      "exec-ns": 89318978,
      "total-ns": 91630905,
      "patts-hit": {},
      "rewritten": "be1 = train.SalePrice[train.BsmtExposure == 'No']\nbe2 = train.SalePrice[train.BsmtExposure == 'Av']\nbe3 = train.SalePrice[train.BsmtExposure == 'Gd']\nbe4 = train.SalePrice[train.BsmtExposure == 'Mn']\nbe5 = train.SalePrice[train.BsmtExposure == 'NB']\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# stats.f_oneway(be1,be2,be3,be4,be5)",
      "rewrite-ns": 14426,
      "overhead-ns": 14426,
      "exec-ns": 75471,
      "total-ns": 89897,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "test_data = pd.read_csv('./input/test.scaled.csv')",
      "rewrite-ns": 397639,
      "overhead-ns": 397639,
      "exec-ns": 2059838667,
      "total-ns": 2060236306,
      "patts-hit": {},
      "rewritten": "test_data = pd.read_csv('./input/test.scaled.csv')\n"
    },
    {
      "raw": "test1 = test_data[['OverallQual', 'YearBuilt', 'YearRemodAdd', 'MasVnrArea', 'BsmtFinSF1',\n       'TotalBsmtSF', 'FullBath', 'TotRmsAbvGrd', 'Fireplaces', \n       'MSZoning', 'LotShape', 'LotConfig', 'Neighborhood', 'Condition1',\n       'BldgType', 'HouseStyle', 'RoofStyle', 'RoofMatl', 'ExterQual',\n       'Foundation', 'BsmtQual', 'BsmtExposure', 'CentralAir', 'FireplaceQu',\n       'GarageFinish', 'GarageQual', 'GarageCond']]",
      "rewrite-ns": 1334646,
      "overhead-ns": 1334646,
      "exec-ns": 52961296,
      "total-ns": 54295942,
      "patts-hit": {},
      "rewritten": "test1 = test_data[['OverallQual', 'YearBuilt', 'YearRemodAdd', 'MasVnrArea',\n    'BsmtFinSF1', 'TotalBsmtSF', 'FullBath', 'TotRmsAbvGrd', 'Fireplaces',\n    'MSZoning', 'LotShape', 'LotConfig', 'Neighborhood', 'Condition1',\n    'BldgType', 'HouseStyle', 'RoofStyle', 'RoofMatl', 'ExterQual',\n    'Foundation', 'BsmtQual', 'BsmtExposure', 'CentralAir', 'FireplaceQu',\n    'GarageFinish', 'GarageQual', 'GarageCond']]\n"
    },
    {
      "raw": "nulls1 = test1.isnull().sum().sort_values(ascending = False)\nnulls1",
      "rewrite-ns": 682560,
      "overhead-ns": 682560,
      "exec-ns": 639653594,
      "total-ns": 640336154,
      "patts-hit": {},
      "rewritten": "nulls1 = test1.isnull().sum().sort_values(ascending=False)\nnulls1\n"
    },
    {
      "raw": "test1['FireplaceQu']=test1['FireplaceQu'].fillna('NF')\ntest1['GarageCond']=test1['GarageCond'].fillna('NG')\ntest1['GarageFinish']=test1['GarageFinish'].fillna('NG')\ntest1['GarageQual']=test1['GarageQual'].fillna('NG')\ntest1['BsmtExposure']=test1['BsmtExposure'].fillna('NB')\ntest1['BsmtQual'] = test1['BsmtQual'].fillna('NB')\ntest1['MasVnrArea'] = test1['MasVnrArea'].fillna(test1['MasVnrArea'].mean())\ntest1['MSZoning'] = test1['MSZoning'].fillna('RL')\ntest1['BsmtFinSF1'] = test1['BsmtFinSF1'].fillna(test1['BsmtFinSF1'].mean())\ntest1['TotalBsmtSF'] = test1['TotalBsmtSF'].fillna(test1['TotalBsmtSF'].mean())",
      "rewrite-ns": 2993491,
      "overhead-ns": 2993491,
      "exec-ns": 135519280,
      "total-ns": 138512771,
      "patts-hit": {
        "IsInplaceUpdate": 1
      },
      "rewritten": "_DIAS_ser = test1['FireplaceQu']\nif type(_DIAS_ser) != pd.Series:\n    test1['FireplaceQu'] = test1['FireplaceQu'].fillna('NF')\nelse:\n    test1['FireplaceQu'].fillna('NF', inplace=True)\n_DIAS_ser = test1['GarageCond']\nif type(_DIAS_ser) != pd.Series:\n    test1['GarageCond'] = test1['GarageCond'].fillna('NG')\nelse:\n    test1['GarageCond'].fillna('NG', inplace=True)\n_DIAS_ser = test1['GarageFinish']\nif type(_DIAS_ser) != pd.Series:\n    test1['GarageFinish'] = test1['GarageFinish'].fillna('NG')\nelse:\n    test1['GarageFinish'].fillna('NG', inplace=True)\n_DIAS_ser = test1['GarageQual']\nif type(_DIAS_ser) != pd.Series:\n    test1['GarageQual'] = test1['GarageQual'].fillna('NG')\nelse:\n    test1['GarageQual'].fillna('NG', inplace=True)\n_DIAS_ser = test1['BsmtExposure']\nif type(_DIAS_ser) != pd.Series:\n    test1['BsmtExposure'] = test1['BsmtExposure'].fillna('NB')\nelse:\n    test1['BsmtExposure'].fillna('NB', inplace=True)\n_DIAS_ser = test1['BsmtQual']\nif type(_DIAS_ser) != pd.Series:\n    test1['BsmtQual'] = test1['BsmtQual'].fillna('NB')\nelse:\n    test1['BsmtQual'].fillna('NB', inplace=True)\n_DIAS_ser = test1['MasVnrArea']\nif type(_DIAS_ser) != pd.Series:\n    test1['MasVnrArea'] = test1['MasVnrArea'].fillna(test1['MasVnrArea'].mean()\n        )\nelse:\n    test1['MasVnrArea'].fillna(test1['MasVnrArea'].mean(), inplace=True)\n_DIAS_ser = test1['MSZoning']\nif type(_DIAS_ser) != pd.Series:\n    test1['MSZoning'] = test1['MSZoning'].fillna('RL')\nelse:\n    test1['MSZoning'].fillna('RL', inplace=True)\n_DIAS_ser = test1['BsmtFinSF1']\nif type(_DIAS_ser) != pd.Series:\n    test1['BsmtFinSF1'] = test1['BsmtFinSF1'].fillna(test1['BsmtFinSF1'].mean()\n        )\nelse:\n    test1['BsmtFinSF1'].fillna(test1['BsmtFinSF1'].mean(), inplace=True)\n_DIAS_ser = test1['TotalBsmtSF']\nif type(_DIAS_ser) != pd.Series:\n    test1['TotalBsmtSF'] = test1['TotalBsmtSF'].fillna(test1['TotalBsmtSF']\n        .mean())\nelse:\n    test1['TotalBsmtSF'].fillna(test1['TotalBsmtSF'].mean(), inplace=True)\n"
    },
    {
      "raw": "test2 = test1._get_numeric_data()",
      "rewrite-ns": 365917,
      "overhead-ns": 365917,
      "exec-ns": 356121,
      "total-ns": 722038,
      "patts-hit": {},
      "rewritten": "test2 = test1._get_numeric_data()\n"
    },
    {
      "raw": "def var_summary(x):\n    return pd.Series([x.count(), x.isnull().sum(), x.sum(), x.mean(), x.median(),  x.std(), x.var(), x.min(), x.quantile(0.01), x.quantile(0.05),x.quantile(0.10),x.quantile(0.25),x.quantile(0.50),x.quantile(0.75), x.quantile(0.90),x.quantile(0.95), x.quantile(0.99),x.max()], \n                  index=['N', 'NMISS', 'SUM', 'MEAN','MEDIAN', 'STD', 'VAR', 'MIN', 'P1' , 'P5' ,'P10' ,'P25' ,'P50' ,'P75' ,'P90' ,'P95' ,'P99' ,'MAX'])\n\ntest2.apply(lambda x: var_summary(x)).T\n",
      "rewrite-ns": 4701237,
      "overhead-ns": 4707946,
      "exec-ns": 399359042,
      "total-ns": 404060279,
      "patts-hit": {},
      "rewritten": "def var_summary(x):\n    return pd.Series([x.count(), x.isnull().sum(), x.sum(), x.mean(), x.\n        median(), x.std(), x.var(), x.min(), x.quantile(0.01), x.quantile(\n        0.05), x.quantile(0.1), x.quantile(0.25), x.quantile(0.5), x.\n        quantile(0.75), x.quantile(0.9), x.quantile(0.95), x.quantile(0.99),\n        x.max()], index=['N', 'NMISS', 'SUM', 'MEAN', 'MEDIAN', 'STD',\n        'VAR', 'MIN', 'P1', 'P5', 'P10', 'P25', 'P50', 'P75', 'P90', 'P95',\n        'P99', 'MAX'])\ntest2.apply(lambda x: var_summary(x)).T\n"
    },
    {
      "raw": "test3 = test1.drop(test2.columns,axis = 1)",
      "rewrite-ns": 544607,
      "overhead-ns": 544607,
      "exec-ns": 48100390,
      "total-ns": 48644997,
      "patts-hit": {},
      "rewritten": "test3 = test1.drop(test2.columns, axis=1)\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run\n# test2['OverallQual']= test2['OverallQual'].clip_upper(test2['OverallQual'].quantile(0.99))\n# test2['OverallQual']= test2['OverallQual'].clip_lower(test2['OverallQual'].quantile(0.01))\n# test2['YearBuilt']= test2['YearBuilt'].clip_upper(test2['YearBuilt'].quantile(0.99))\n# test2['YearBuilt']= test2['YearBuilt'].clip_lower(test2['YearBuilt'].quantile(0.01))\n# test2['MasVnrArea']= test2['MasVnrArea'].clip_upper(test2['MasVnrArea'].quantile(0.99))\n# test2['BsmtFinSF1']= test2['BsmtFinSF1'].clip_upper(test2['BsmtFinSF1'].quantile(0.99))\n# test2['TotalBsmtSF']= test2['TotalBsmtSF'].clip_upper(test2['TotalBsmtSF'].quantile(0.99))\n# test2['TotalBsmtSF']= test2['TotalBsmtSF'].clip_upper(test2['TotalBsmtSF'].quantile(0.99))\n# test2['TotRmsAbvGrd']= test2['TotRmsAbvGrd'].clip_upper(test2['TotRmsAbvGrd'].quantile(0.99))\ntest2['OverallQual']= test2['OverallQual'].clip(upper=test2['OverallQual'].quantile(0.99))\ntest2['OverallQual']= test2['OverallQual'].clip(lower=test2['OverallQual'].quantile(0.01))\ntest2['YearBuilt']= test2['YearBuilt'].clip(upper=test2['YearBuilt'].quantile(0.99))\ntest2['YearBuilt']= test2['YearBuilt'].clip(lower=test2['YearBuilt'].quantile(0.01))\ntest2['MasVnrArea']= test2['MasVnrArea'].clip(upper=test2['MasVnrArea'].quantile(0.99))\ntest2['BsmtFinSF1']= test2['BsmtFinSF1'].clip(upper=test2['BsmtFinSF1'].quantile(0.99))\ntest2['TotalBsmtSF']= test2['TotalBsmtSF'].clip(upper=test2['TotalBsmtSF'].quantile(0.99))\ntest2['TotalBsmtSF']= test2['TotalBsmtSF'].clip(upper=test2['TotalBsmtSF'].quantile(0.99))\ntest2['TotRmsAbvGrd']= test2['TotRmsAbvGrd'].clip(upper=test2['TotRmsAbvGrd'].quantile(0.99))",
      "rewrite-ns": 6640709,
      "overhead-ns": 6640709,
      "exec-ns": 70129870,
      "total-ns": 76770579,
      "patts-hit": {},
      "rewritten": "test2['OverallQual'] = test2['OverallQual'].clip(upper=test2['OverallQual']\n    .quantile(0.99))\ntest2['OverallQual'] = test2['OverallQual'].clip(lower=test2['OverallQual']\n    .quantile(0.01))\ntest2['YearBuilt'] = test2['YearBuilt'].clip(upper=test2['YearBuilt'].\n    quantile(0.99))\ntest2['YearBuilt'] = test2['YearBuilt'].clip(lower=test2['YearBuilt'].\n    quantile(0.01))\ntest2['MasVnrArea'] = test2['MasVnrArea'].clip(upper=test2['MasVnrArea'].\n    quantile(0.99))\ntest2['BsmtFinSF1'] = test2['BsmtFinSF1'].clip(upper=test2['BsmtFinSF1'].\n    quantile(0.99))\ntest2['TotalBsmtSF'] = test2['TotalBsmtSF'].clip(upper=test2['TotalBsmtSF']\n    .quantile(0.99))\ntest2['TotalBsmtSF'] = test2['TotalBsmtSF'].clip(upper=test2['TotalBsmtSF']\n    .quantile(0.99))\ntest2['TotRmsAbvGrd'] = test2['TotRmsAbvGrd'].clip(upper=test2[\n    'TotRmsAbvGrd'].quantile(0.99))\n"
    },
    {
      "raw": "finaltest = pd.concat([test2,test3],axis = 1)",
      "rewrite-ns": 609332,
      "overhead-ns": 609332,
      "exec-ns": 47499217,
      "total-ns": 48108549,
      "patts-hit": {},
      "rewritten": "finaltest = pd.concat([test2, test3], axis=1)\n"
    },
    {
      "raw": "finaltest1 = pd.get_dummies(finaltest)",
      "rewrite-ns": 430284,
      "overhead-ns": 430284,
      "exec-ns": 444361810,
      "total-ns": 444792094,
      "patts-hit": {},
      "rewritten": "finaltest1 = pd.get_dummies(finaltest)\n"
    },
    {
      "raw": "finaltest.columns",
      "rewrite-ns": 87978,
      "overhead-ns": 87978,
      "exec-ns": 821410,
      "total-ns": 909388,
      "patts-hit": {},
      "rewritten": "finaltest.columns\n"
    },
    {
      "raw": "final_data1.head()",
      "rewrite-ns": 113305,
      "overhead-ns": 113305,
      "exec-ns": 11941265,
      "total-ns": 12054570,
      "patts-hit": {},
      "rewritten": "final_data1.head()\n"
    },
    {
      "raw": "# FIRST-AUTHOR: make notebook run with input scaling\n# train1 =final_data1.sample(n = 730 ,random_state = 123)\ntrain1 =final_data1.sample(n = min(len(final_data) - 10, 730) ,random_state = 123)\ntrain2 = final_data1.drop(train1.index)",
      "rewrite-ns": 1159462,
      "overhead-ns": 1159462,
      "exec-ns": 37066273,
      "total-ns": 38225735,
      "patts-hit": {},
      "rewritten": "train1 = final_data1.sample(n=min(len(final_data) - 10, 730), random_state=123)\ntrain2 = final_data1.drop(train1.index)\n"
    },
    {
      "raw": "train1x = train1.drop(['intercept','SalePrice'], axis = 1)\ntrain1y = train1.SalePrice",
      "rewrite-ns": 801724,
      "overhead-ns": 801724,
      "exec-ns": 948273,
      "total-ns": 1749997,
      "patts-hit": {},
      "rewritten": "train1x = train1.drop(['intercept', 'SalePrice'], axis=1)\ntrain1y = train1.SalePrice\n"
    },
    {
      "raw": "train2x = train2.drop(['SalePrice','intercept'],axis = 1)\ntrain2y = train2.SalePrice",
      "rewrite-ns": 765526,
      "overhead-ns": 765526,
      "exec-ns": 7914707,
      "total-ns": 8680233,
      "patts-hit": {},
      "rewritten": "train2x = train2.drop(['SalePrice', 'intercept'], axis=1)\ntrain2y = train2.SalePrice\n"
    },
    {
      "raw": "best_train = pd.get_dummies(best_train)",
      "rewrite-ns": 413299,
      "overhead-ns": 413299,
      "exec-ns": 751621912,
      "total-ns": 752035211,
      "patts-hit": {},
      "rewritten": "best_train = pd.get_dummies(best_train)\n"
    },
    {
      "raw": "train_s1 = best_train.sample(n = min(len(final_data) - 10, 730) ,random_state = 123)\ntrain_s2 = best_train.drop(train_s1.index)                             ",
      "rewrite-ns": 1225155,
      "overhead-ns": 1225155,
      "exec-ns": 487957035,
      "total-ns": 489182190,
      "patts-hit": {},
      "rewritten": "train_s1 = best_train.sample(n=min(len(final_data) - 10, 730), random_state=123\n    )\ntrain_s2 = best_train.drop(train_s1.index)\n"
    },
    {
      "raw": "train_s1x = train_s1.drop(['SalePrice'], axis = 1)\ntrain_s1y = train_s1.SalePrice",
      "rewrite-ns": 859892,
      "overhead-ns": 859892,
      "exec-ns": 1438450,
      "total-ns": 2298342,
      "patts-hit": {},
      "rewritten": "train_s1x = train_s1.drop(['SalePrice'], axis=1)\ntrain_s1y = train_s1.SalePrice\n"
    },
    {
      "raw": "train_s2x = train_s2.drop(['SalePrice'],axis = 1)\ntrain_s2y = train_s2.SalePrice",
      "rewrite-ns": 758421,
      "overhead-ns": 758421,
      "exec-ns": 108427276,
      "total-ns": 109185697,
      "patts-hit": {},
      "rewritten": "train_s2x = train_s2.drop(['SalePrice'], axis=1)\ntrain_s2y = train_s2.SalePrice\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from sklearn.linear_model import LinearRegression",
      "rewrite-ns": 21284,
      "overhead-ns": 21284,
      "exec-ns": 107787,
      "total-ns": 129071,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train = train1x\n# Y_train = train1y",
      "rewrite-ns": 18052,
      "overhead-ns": 18052,
      "exec-ns": 93003,
      "total-ns": 111055,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# linreg = LinearRegression()\n# linreg.fit(X_train, Y_train)",
      "rewrite-ns": 14451,
      "overhead-ns": 14451,
      "exec-ns": 80046,
      "total-ns": 94497,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train , X_test, Y_train, Y_test = train_test_split(\n#         train2x,\n#         train2y,\n#         test_size=0.20,\n#         random_state=123)",
      "rewrite-ns": 12929,
      "overhead-ns": 12929,
      "exec-ns": 74301,
      "total-ns": 87230,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# y_pred = linreg.predict(X_test)",
      "rewrite-ns": 12644,
      "overhead-ns": 12644,
      "exec-ns": 70536,
      "total-ns": 83180,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from sklearn import metrics",
      "rewrite-ns": 12546,
      "overhead-ns": 12546,
      "exec-ns": 69893,
      "total-ns": 82439,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# rmse = np.sqrt(metrics.mean_squared_error(Y_test, y_pred))\n# rmse",
      "rewrite-ns": 12053,
      "overhead-ns": 12053,
      "exec-ns": 69075,
      "total-ns": 81128,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# metrics.r2_score(Y_test, y_pred)",
      "rewrite-ns": 11544,
      "overhead-ns": 11544,
      "exec-ns": 66252,
      "total-ns": 77796,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from sklearn import metrics\n# from sklearn.tree import DecisionTreeRegressor\n# from sklearn.grid_search import GridSearchCV",
      "rewrite-ns": 12319,
      "overhead-ns": 12319,
      "exec-ns": 69245,
      "total-ns": 81564,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train = train1x \n# Y_train = train1y",
      "rewrite-ns": 13109,
      "overhead-ns": 13109,
      "exec-ns": 66625,
      "total-ns": 79734,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# depth_list = list(range(1,20))\n# for depth in depth_list:\n#     dt_obj = DecisionTreeRegressor(max_depth=depth)\n#     dt_obj.fit(X_train, Y_train)\n#     print ('depth:', depth, 'R_squared:', metrics.r2_score(Y_test, dt_obj.predict(X_test)))",
      "rewrite-ns": 13911,
      "overhead-ns": 13911,
      "exec-ns": 66239,
      "total-ns": 80150,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# param_grid = {'max_depth': np.arange(3,20)}\n# tree = GridSearchCV(DecisionTreeRegressor(), param_grid, cv=10)\n# tree.fit(X_train, Y_train)",
      "rewrite-ns": 12036,
      "overhead-ns": 12036,
      "exec-ns": 66934,
      "total-ns": 78970,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# tree.best_params_",
      "rewrite-ns": 12006,
      "overhead-ns": 12006,
      "exec-ns": 67107,
      "total-ns": 79113,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# tree.best_score_",
      "rewrite-ns": 12058,
      "overhead-ns": 12058,
      "exec-ns": 67353,
      "total-ns": 79411,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "",
      "rewrite-ns": 11087,
      "overhead-ns": 11087,
      "exec-ns": 66267,
      "total-ns": 77354,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# tree_final = DecisionTreeRegressor(max_depth=8)\n# tree_final.fit(X_train, Y_train)",
      "rewrite-ns": 11254,
      "overhead-ns": 11254,
      "exec-ns": 66685,
      "total-ns": 77939,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train, X_test, Y_train, Y_test = train_test_split(\n#         train2x,\n#         train2y,\n#         test_size=0.20,\n#         random_state=123)",
      "rewrite-ns": 11926,
      "overhead-ns": 11926,
      "exec-ns": 66948,
      "total-ns": 78874,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# tree_test_pred = pd.DataFrame({'actual': Y_test, 'predicted': tree_final.predict(X_test)})\ntree_test_pred = pd.DataFrame({'actual': train2y, 'predicted': train2y})",
      "rewrite-ns": 619349,
      "overhead-ns": 619349,
      "exec-ns": 1527785,
      "total-ns": 2147134,
      "patts-hit": {},
      "rewritten": "tree_test_pred = pd.DataFrame({'actual': train2y, 'predicted': train2y})\n"
    },
    {
      "raw": "tree_test_pred.sample(10)",
      "rewrite-ns": 134500,
      "overhead-ns": 134500,
      "exec-ns": 9708372,
      "total-ns": 9842872,
      "patts-hit": {},
      "rewritten": "tree_test_pred.sample(10)\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# metrics.r2_score(Y_test, tree_test_pred.predicted)\n_ = tree_test_pred.predicted",
      "rewrite-ns": 287385,
      "overhead-ns": 287385,
      "exec-ns": 528783,
      "total-ns": 816168,
      "patts-hit": {},
      "rewritten": "_ = tree_test_pred.predicted\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# rmse = np.sqrt(metrics.mean_squared_error(Y_test, tree_test_pred.predicted))\n# rmse\n_ = tree_test_pred.predicted",
      "rewrite-ns": 266242,
      "overhead-ns": 266242,
      "exec-ns": 234757,
      "total-ns": 500999,
      "patts-hit": {},
      "rewritten": "_ = tree_test_pred.predicted\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from sklearn.ensemble import RandomForestRegressor",
      "rewrite-ns": 12942,
      "overhead-ns": 12942,
      "exec-ns": 70980,
      "total-ns": 83922,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train = train1x\n# Y_train = train1y",
      "rewrite-ns": 11965,
      "overhead-ns": 11965,
      "exec-ns": 68141,
      "total-ns": 80106,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# depth_list = list(range(1,20))\n# for depth in depth_list:\n#     dt_obj = RandomForestRegressor(max_depth=depth)\n#     dt_obj.fit(X_train, Y_train)\n#     print ('depth:', depth, 'R_Squared:', metrics.r2_score(Y_test, dt_obj.predict(X_test)))",
      "rewrite-ns": 12300,
      "overhead-ns": 12300,
      "exec-ns": 62651,
      "total-ns": 74951,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# radm_clf = RandomForestRegressor(oob_score=True,n_estimators=100)\n# radm_clf.fit( X_train, Y_train )",
      "rewrite-ns": 11136,
      "overhead-ns": 11136,
      "exec-ns": 64512,
      "total-ns": 75648,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train, X_test, Y_train, Y_test = train_test_split(\n#         train2x,\n#         train2y,\n#         test_size=0.20,\n#         random_state=123)",
      "rewrite-ns": 11692,
      "overhead-ns": 11692,
      "exec-ns": 62425,
      "total-ns": 74117,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# radm_test_pred = pd.DataFrame( { 'actual':  Y_test,\n#                             'predicted': radm_clf.predict( X_test ) } )\nradm_test_pred = pd.DataFrame( { 'actual':  train2y,\n                            'predicted': train2y } )",
      "rewrite-ns": 579600,
      "overhead-ns": 579600,
      "exec-ns": 2564618,
      "total-ns": 3144218,
      "patts-hit": {},
      "rewritten": "radm_test_pred = pd.DataFrame({'actual': train2y, 'predicted': train2y})\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# metrics.r2_score( radm_test_pred.actual, radm_test_pred.predicted )\n_ = radm_test_pred.actual\n_ = radm_test_pred.predicted",
      "rewrite-ns": 471864,
      "overhead-ns": 471864,
      "exec-ns": 395713,
      "total-ns": 867577,
      "patts-hit": {},
      "rewritten": "_ = radm_test_pred.actual\n_ = radm_test_pred.predicted\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# rmse = np.sqrt(metrics.mean_squared_error(radm_test_pred.actual, radm_test_pred.predicted))\n# rmse\n_ = radm_test_pred.actual\n_ = radm_test_pred.predicted",
      "rewrite-ns": 459201,
      "overhead-ns": 459201,
      "exec-ns": 265187,
      "total-ns": 724388,
      "patts-hit": {},
      "rewritten": "_ = radm_test_pred.actual\n_ = radm_test_pred.predicted\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from sklearn.ensemble import BaggingRegressor",
      "rewrite-ns": 13668,
      "overhead-ns": 13668,
      "exec-ns": 74386,
      "total-ns": 88054,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code, plotting\n# from sklearn import metrics\n# import matplotlib.pyplot as plt \n# import seaborn as sns",
      "rewrite-ns": 12623,
      "overhead-ns": 12623,
      "exec-ns": 68194,
      "total-ns": 80817,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# param_bag = {'n_estimators': list(range(100, 801, 100)),\n#              }",
      "rewrite-ns": 11433,
      "overhead-ns": 11433,
      "exec-ns": 65101,
      "total-ns": 76534,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from sklearn.grid_search import GridSearchCV\n# bag_cl = GridSearchCV(estimator=BaggingRegressor(),\n#                   param_grid=param_bag,\n#                   cv=5,\n#                   verbose=True, n_jobs=-1)",
      "rewrite-ns": 11622,
      "overhead-ns": 11622,
      "exec-ns": 61518,
      "total-ns": 73140,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# bag_cl.get_params()",
      "rewrite-ns": 10369,
      "overhead-ns": 10369,
      "exec-ns": 60539,
      "total-ns": 70908,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train = train1x\n# Y_train = train1y",
      "rewrite-ns": 11029,
      "overhead-ns": 11029,
      "exec-ns": 59697,
      "total-ns": 70726,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# bag_cl.fit(X_train, Y_train)",
      "rewrite-ns": 10766,
      "overhead-ns": 10766,
      "exec-ns": 61178,
      "total-ns": 71944,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# bag_cl.best_params_",
      "rewrite-ns": 10179,
      "overhead-ns": 10179,
      "exec-ns": 61662,
      "total-ns": 71841,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# bagclm = BaggingRegressor(oob_score=True, n_estimators=600)\n# bagclm.fit(X_train, Y_train)",
      "rewrite-ns": 11402,
      "overhead-ns": 11402,
      "exec-ns": 61288,
      "total-ns": 72690,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train, X_test, Y_train, Y_test = train_test_split(\n#         train2x,\n#         train2y,\n#         test_size=0.20,\n#         random_state=123)",
      "rewrite-ns": 17825,
      "overhead-ns": 17825,
      "exec-ns": 61296,
      "total-ns": 79121,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# y_pred = pd.DataFrame( { 'actual':  Y_test,\n#                             'predicted': bagclm.predict( X_test) } )\ny_pred = pd.DataFrame( { 'actual':  train2y,\n                            'predicted': train2y } )",
      "rewrite-ns": 589139,
      "overhead-ns": 589139,
      "exec-ns": 2532529,
      "total-ns": 3121668,
      "patts-hit": {},
      "rewritten": "y_pred = pd.DataFrame({'actual': train2y, 'predicted': train2y})\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# bagclm.estimators_features_",
      "rewrite-ns": 15208,
      "overhead-ns": 15208,
      "exec-ns": 77457,
      "total-ns": 92665,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# metrics.r2_score(y_pred.actual, y_pred.predicted)\n_ = y_pred.actual, y_pred.predicted",
      "rewrite-ns": 458454,
      "overhead-ns": 458454,
      "exec-ns": 389282,
      "total-ns": 847736,
      "patts-hit": {},
      "rewritten": "_ = y_pred.actual, y_pred.predicted\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# rmse = np.sqrt(metrics.mean_squared_error(Y_test, y_pred.predicted))\n# rmse\n_ = y_pred.predicted",
      "rewrite-ns": 276963,
      "overhead-ns": 276963,
      "exec-ns": 244625,
      "total-ns": 521588,
      "patts-hit": {},
      "rewritten": "_ = y_pred.predicted\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from sklearn.ensemble import AdaBoostRegressor, GradientBoostingRegressor",
      "rewrite-ns": 13259,
      "overhead-ns": 13259,
      "exec-ns": 73113,
      "total-ns": 86372,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# [10**x for x in range(-3, 3)]",
      "rewrite-ns": 11527,
      "overhead-ns": 11527,
      "exec-ns": 67257,
      "total-ns": 78784,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# paragrid_ada = {'n_estimators': [100, 200, 400, 600, 800],\n#                'learning_rate': [10**x for x in range(-3, 3)]}",
      "rewrite-ns": 11383,
      "overhead-ns": 11383,
      "exec-ns": 62254,
      "total-ns": 73637,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# from sklearn.grid_search import GridSearchCV\n# ada = GridSearchCV(estimator=AdaBoostRegressor(),\n#                   param_grid=paragrid_ada,\n#                   cv=5,\n#                   verbose=True, n_jobs=-1)",
      "rewrite-ns": 11934,
      "overhead-ns": 11934,
      "exec-ns": 63894,
      "total-ns": 75828,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train = train1x\n# Y_train = train1y",
      "rewrite-ns": 11206,
      "overhead-ns": 11206,
      "exec-ns": 61102,
      "total-ns": 72308,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# ada.fit(X_train, Y_train)",
      "rewrite-ns": 10903,
      "overhead-ns": 10903,
      "exec-ns": 61029,
      "total-ns": 71932,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# ada.best_params_",
      "rewrite-ns": 10355,
      "overhead-ns": 10355,
      "exec-ns": 60106,
      "total-ns": 70461,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# ada_clf = AdaBoostRegressor(learning_rate=0.1, n_estimators=800)",
      "rewrite-ns": 10670,
      "overhead-ns": 10670,
      "exec-ns": 57679,
      "total-ns": 68349,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# ada_clf.fit(X_train, Y_train)",
      "rewrite-ns": 10262,
      "overhead-ns": 10262,
      "exec-ns": 58655,
      "total-ns": 68917,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train, X_test, Y_train, Y_test = train_test_split(\n#         train2x,\n#         train2y,\n#         test_size=0.20,\n#         random_state=123)",
      "rewrite-ns": 11065,
      "overhead-ns": 11065,
      "exec-ns": 59283,
      "total-ns": 70348,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# ada_test_pred = pd.DataFrame({'actual': Y_test,\n#                             'predicted': ada_clf.predict(X_test)})\nada_test_pred = pd.DataFrame({'actual': train2y,\n                            'predicted': train2y})",
      "rewrite-ns": 725927,
      "overhead-ns": 725927,
      "exec-ns": 2222627,
      "total-ns": 2948554,
      "patts-hit": {},
      "rewritten": "ada_test_pred = pd.DataFrame({'actual': train2y, 'predicted': train2y})\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# metrics.r2_score(ada_test_pred.actual, ada_test_pred.predicted)\n_ = ada_test_pred.actual\n_ = ada_test_pred.predicted",
      "rewrite-ns": 461932,
      "overhead-ns": 461932,
      "exec-ns": 413848,
      "total-ns": 875780,
      "patts-hit": {},
      "rewritten": "_ = ada_test_pred.actual\n_ = ada_test_pred.predicted\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# rmse = np.sqrt(metrics.mean_squared_error(Y_test, y_pred.predicted))\n# rmse\n_ = y_pred.predicted",
      "rewrite-ns": 259208,
      "overhead-ns": 259208,
      "exec-ns": 240377,
      "total-ns": 499585,
      "patts-hit": {},
      "rewritten": "_ = y_pred.predicted\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# param_test1 = {'n_estimators': [100, 200, 400, 600, 800],\n#               'max_depth': list(range(1,10))}\n# gsearch1 = GridSearchCV(estimator = GradientBoostingRegressor(learning_rate=0.1, min_samples_split=500, min_samples_leaf=50,\n#                                                                max_features='sqrt',subsample=0.8, random_state=10), \n#                         param_grid = param_test1, scoring='r2',n_jobs=4,iid=False, cv=5)",
      "rewrite-ns": 18412,
      "overhead-ns": 18412,
      "exec-ns": 73549,
      "total-ns": 91961,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train = train1x\n# Y_train = train1y",
      "rewrite-ns": 12186,
      "overhead-ns": 12186,
      "exec-ns": 63948,
      "total-ns": 76134,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# gsearch1.fit(X_train, Y_train)",
      "rewrite-ns": 11522,
      "overhead-ns": 11522,
      "exec-ns": 66353,
      "total-ns": 77875,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# gsearch1.best_params_",
      "rewrite-ns": 10854,
      "overhead-ns": 10854,
      "exec-ns": 63527,
      "total-ns": 74381,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# gbm = GradientBoostingRegressor(learning_rate=0.1, min_samples_split=500, min_samples_leaf=50,max_depth=1, n_estimators=200,\n#                                                                max_features='sqrt',subsample=0.8, random_state=10)",
      "rewrite-ns": 12125,
      "overhead-ns": 12125,
      "exec-ns": 61631,
      "total-ns": 73756,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# gbm.fit(X_train, Y_train)",
      "rewrite-ns": 11038,
      "overhead-ns": 11038,
      "exec-ns": 59868,
      "total-ns": 70906,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# X_train, X_test, Y_train, Y_test = train_test_split(\n#         train2x,\n#         train2y,\n#         test_size=0.20,\n#         random_state=123)",
      "rewrite-ns": 11856,
      "overhead-ns": 11856,
      "exec-ns": 61885,
      "total-ns": 73741,
      "patts-hit": {},
      "rewritten": ""
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# gbm_test_pred = pd.DataFrame({'actual': Y_test,\n#                             'predicted': gbm.predict(X_test)})\ngbm_test_pred = pd.DataFrame({'actual': train2y,\n                            'predicted': train2y})",
      "rewrite-ns": 581111,
      "overhead-ns": 581111,
      "exec-ns": 2526729,
      "total-ns": 3107840,
      "patts-hit": {},
      "rewritten": "gbm_test_pred = pd.DataFrame({'actual': train2y, 'predicted': train2y})\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# metrics.r2_score(gbm_test_pred.actual, gbm_test_pred.predicted)\n_ = gbm_test_pred.actual\n_ = gbm_test_pred.predicted",
      "rewrite-ns": 464228,
      "overhead-ns": 464228,
      "exec-ns": 383122,
      "total-ns": 847350,
      "patts-hit": {},
      "rewritten": "_ = gbm_test_pred.actual\n_ = gbm_test_pred.predicted\n"
    },
    {
      "raw": "# FIRST-AUTHOR: remove ML code\n# rmse = np.sqrt(metrics.mean_squared_error(gbm_test_pred.actual, gbm_test_pred.predicted))\n# rmse\n_ = gbm_test_pred.actual\n_ = gbm_test_pred.predicted",
      "rewrite-ns": 449997,
      "overhead-ns": 449997,
      "exec-ns": 252107,
      "total-ns": 702104,
      "patts-hit": {},
      "rewritten": "_ = gbm_test_pred.actual\n_ = gbm_test_pred.predicted\n"
    },
    {
      "raw": "",
      "rewrite-ns": 12607,
      "overhead-ns": 12607,
      "exec-ns": 70269,
      "total-ns": 82876,
      "patts-hit": {},
      "rewritten": ""
    }
  ],
  "total-time-in-sec": 21.475229133,
  "max-disk-in-mb": 0
}